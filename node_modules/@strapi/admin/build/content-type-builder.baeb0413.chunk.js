"use strict";(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[8880],{25747:function(Se,ee,s){var n=s(32735),$=s(8471),ge=s(60216),S=s.n(ge),b=s(72850),Re=s(32031),tt=s(73779),z=s(35071),nt=s(1176),t=s(88675),at=s(15431),R=s(22348),We=s(7184),Ue=s(43475),Ne=s(872),Ke=s(89135),st=s(82512),ot=s(61642),fe=s(58656),$e=s(83218),it=s(17757),ye=s(69262);const c={biginteger:Re.Z,boolean:tt.Z,collectionType:z.Z,component:nt.Z,contentType:z.Z,date:t.Z,datetime:t.Z,decimal:Re.Z,dynamiczone:at.Z,email:R.Z,enum:We.Z,enumeration:We.Z,file:Ue.Z,files:Ue.Z,float:Re.Z,integer:Re.Z,json:Ne.Z,JSON:Ne.Z,media:Ue.Z,number:Re.Z,password:Ke.Z,relation:st.Z,richtext:ot.Z,singleType:fe.Z,string:$e.Z,text:$e.Z,time:t.Z,timestamp:t.Z,uid:it.Z},he=(0,$.ZP)(b.x)`
  svg {
    height: 100%;
    width: 100%;
  }
`,_e=({type:je,customField:ze,...qe})=>{const rt=(0,ye.mZ)();let Be=c[je];if(ze){const{icon:Fe}=rt.get(ze);Fe&&(Be=Fe)}return c[je]?n.createElement(he,{height:(0,ye.Q1)(24),width:(0,ye.Q1)(32),shrink:0,...qe,"aria-hidden":!0},n.createElement(b.x,{as:Be})):null};_e.defaultProps={customField:null},_e.propTypes={type:S().string.isRequired,customField:S().string},ee.Z=_e},31753:function(Se,ee,s){s.d(ee,{c:function(){return kt}});var n=s(55805),$=s(31206),ge=s(97075),S=s(14949),b=s(29439),Re=s(8482),tt=s(65261),z=s(55877),nt=s(84298),t=s(73906),at=s(37272),R=s(67121),We=s(39869),Ue=s(35635),Ne=s(26366),Ke=s(98464),st=s(2362),ot=s(89992),fe=s(10473),$e=s(95971),it=s(66456),ye=s(72536),c=s(68312),he=s(80601),_e=s(45112),je=s(74464),ze=s(70809),qe=s(98148),rt=s(81424),Be=s(69317),Fe=s(25789),U=s(77359),Ae=s(50416),lt=s(20015),N=s(20276),Le=s(82068),Yt=s(41645),H=s(61294),Qt=s(65943),dt=s(8606),Me=s(7961),xt=s(92967),Xt=s(18070),Ee=s(54894),Jt=s(30285),ct=s(96011),wt=s(47041),q=s(60625),ga=s(5644),St=s(78150),ut=s(63717),mt=s(24609),Ve=s(86543),ke=s(62864),Ze=s(92989),fa=s(49886),Ut=s(47052),pt=s(50694),en=s(81875),ya=s(92323),_t=s(49844),Bt=s(11631),tn=s(9254),nn=s(2669),an=s(18709),sn=s(20258),gt=s(43231),on=s(45147),rn=s(23154),Oe=s(26253),ln=s(79634),dn=s(32548),Ea=s(99482),cn=s(45323),Ft=s(76994),un=s(88777),va=s(95703),mn=s(8981),Wt=s(7733),pn=s(10168),ft=s(25449),yt=s(83900),gn=s(32645),Et=s(78429),fn=s(68625),Nt=s(9882),vt=s(11417),ht=s(39698),yn=s(92168),Mt=s(69621),En=s(2438),ha=s(19406),vn=s(92254),bt=s(2287),hn=s(29685),Ge=s(65663),He=s(5502),Tt=s(31047),Mn=s(93307),Kt=s(78055),bn=s(51239),Ct=s(6792),Rt=s(75156),$t=s(80683),Tn=s(2689),Zt=s(40202),Cn=s(36919),Ot=s(75444),Rn=s(92003),jt=s(4511),Zn=s(2847),On=s(83139),Pn=s(53779),Dn=s(72890),An=s(84411),Ln=s(37193),zt=s(74831),In=s(99221),xn=s(34119),Sn=s(99283),qt=s(21371),Un=s(70727),Vt=s(42213),Pt=s(8611),_n=s(20448),Dt=s(73165);const kt={alien:n.Z,apps:$.Z,archive:ge.Z,arrowDown:S.Z,arrowLeft:b.Z,arrowRight:Re.Z,arrowUp:tt.Z,attachment:z.Z,bell:nt.Z,bold:t.Z,book:at.Z,briefcase:R.Z,brush:We.Z,bulletList:Ue.Z,calendar:Ne.Z,car:Ke.Z,cast:st.Z,chartBubble:ot.Z,chartCircle:fe.Z,chartPie:$e.Z,check:it.Z,clock:ye.Z,cloud:c.Z,code:he.Z,cog:_e.Z,collapse:je.Z,command:ze.Z,connector:qe.Z,crop:rt.Z,crown:Be.Z,cube:Fe.Z,cup:U.Z,cursor:Ae.Z,dashboard:lt.Z,database:N.Z,discuss:Le.Z,doctor:Yt.Z,earth:H.Z,emotionHappy:Qt.Z,emotionUnhappy:dt.Z,envelop:Me.Z,exit:xt.Z,expand:Xt.Z,eye:Ee.Z,feather:Jt.Z,file:ct.Z,fileError:wt.Z,filePdf:q.Z,filter:ga.Z,folder:St.Z,gate:ut.Z,gift:mt.Z,globe:Ve.Z,grid:ke.Z,handHeart:Ze.Z,hashtag:fa.Z,headphone:Ut.Z,heart:pt.Z,house:en.Z,information:ya.Z,italic:_t.Z,key:Bt.Z,landscape:tn.Z,layer:nn.Z,layout:an.Z,lightbulb:sn.Z,link:gt.Z,lock:on.Z,magic:rn.Z,manyToMany:Oe.Z,manyToOne:ln.Z,manyWays:dn.Z,medium:Ea.Z,message:cn.Z,microphone:Ft.Z,monitor:un.Z,moon:va.Z,music:mn.Z,oneToMany:Wt.Z,oneToOne:pn.Z,oneWay:ft.Z,paint:yt.Z,paintBrush:gn.Z,paperPlane:Et.Z,pencil:fn.Z,phone:Nt.Z,picture:vt.Z,pin:ht.Z,pinMap:yn.Z,plane:Mt.Z,play:En.Z,plus:ha.Z,priceTag:vn.Z,puzzle:bt.Z,question:hn.Z,quote:Ge.Z,repeat:He.Z,restaurant:Tt.Z,rocket:Mn.Z,rotate:Kt.Z,scissors:bn.Z,search:Ct.Z,seed:Rt.Z,server:$t.Z,shield:Tn.Z,shirt:Zt.Z,shoppingCart:Cn.Z,slideshow:Ot.Z,stack:Rn.Z,star:jt.Z,store:Zn.Z,strikeThrough:On.Z,sun:Pn.Z,television:Dn.Z,thumbDown:An.Z,thumbUp:Ln.Z,train:zt.Z,twitter:In.Z,typhoon:xn.Z,underline:Sn.Z,user:qt.Z,volumeMute:Un.Z,volumeUp:Vt.Z,walk:Pt.Z,wheelchair:_n.Z,write:Dt.Z}},74753:function(Se,ee,s){var n=s(32735);const $=(0,n.createContext)();ee.Z=$},51216:function(Se,ee,s){var n=s(32735);const $=(0,n.createContext)();ee.Z=$},198:function(Se,ee,s){var n=s(32735),$=s(74753);const ge=()=>(0,n.useContext)($.Z);ee.Z=ge},32237:function(Se,ee,s){var n=s(32735),$=s(51216);const ge=()=>(0,n.useContext)($.Z);ee.Z=ge},50929:function(Se,ee,s){s.r(ee),s.d(ee,{default:function(){return xo}});var n=s(32735),$=s(53038),ge=s(74758),S=s(67879),b=s(69262),Re=s(96709),tt=s(3633),z=s(25158),nt=s(60216),t=s.n(nt),at=s(33795),R=s.n(at),We=s(81346),Ue=s.n(We),Ne=s(3040),Ke=s.n(Ne),st=s(61868),ot=s.n(st),fe=s(15062),$e=s(6680),it=s(74753),ye=s(32237),c=s(92318),he=s(37087),_e=s(23973),je=s.n(_e),ze=s(59578),qe=s.n(ze),rt=s(85025),Be=s(31600),Fe=s(91215),U=s(87933),Ae=s(90980),lt=s(9026),N=s(72850),Le=s(3653),Yt=s(11406),H=s(41415),Qt=s(89793),dt=s.n(Qt),Me=s(198),xt=s(27799),Xt=s(23940),Ee=s.n(Xt);const Jt=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],ct=({intlLabel:e,name:a,onChange:o,value:r})=>{const{formatMessage:i}=(0,S.Z)(),d=r===null||r.length===0?i({id:"global.none",defaultMessage:"None"}):[...r].sort().map(u=>Ee()(u)).join(", "),l=e.id?i({id:e.id,defaultMessage:e.defaultMessage}):a;return n.createElement(xt.Q,{id:"select1",label:l,customizeContent:()=>d,onChange:u=>{u.length>0?o({target:{name:a,value:u,type:"allowed-types-select"}}):o({target:{name:a,value:null,type:"allowed-types-select"}})},options:Jt,value:r||[]})};ct.defaultProps={value:null},ct.propTypes={intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,name:t().string.isRequired,onChange:t().func.isRequired,value:t().oneOfType([t().object,t().array])};var wt=ct,q=s(49372),St=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0),ut=s(861),mt=s(15335),Ve=s(5803),ke=s(25747),Ze=s(8471),Ut=(0,Ze.ZP)(N.x)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`;const pt=({type:e})=>{const{formatMessage:a}=(0,S.Z)(),{onClickSelectField:o}=(0,ye.Z)(),r=()=>{o({attributeType:e,step:e==="component"?"1":null})};return n.createElement(Ut,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:r},n.createElement(U.k,null,n.createElement(ke.Z,{type:e}),n.createElement(N.x,{paddingLeft:4},n.createElement(U.k,null,n.createElement(q.Z,{fontWeight:"bold"},a({id:(0,c.Z)(`attribute.${e}`),defaultMessage:e}))),n.createElement(U.k,null,n.createElement(q.Z,{variant:"pi",textColor:"neutral600"},a({id:(0,c.Z)(`attribute.${e}.description`),defaultMessage:"A type for modeling data"}))))))};pt.defaultProps={type:"text"},pt.propTypes={type:t().string};var en=pt,_t=e=>{const a=e%2===1;return{paddingLeft:a?2:0,paddingRight:a?0:2}};const Bt=({attributes:e})=>n.createElement(ut.k,{tagName:"button"},n.createElement(U.k,{direction:"column",alignItems:"stretch",gap:8},e.map((a,o)=>n.createElement(mt.r,{key:o,gap:0},a.map((r,i)=>{const{paddingLeft:d,paddingRight:l}=_t(i);return n.createElement(Ve.P,{key:r,col:6,style:{height:"100%"}},n.createElement(N.x,{paddingLeft:d,paddingRight:l,paddingBottom:1,style:{height:"100%"}},n.createElement(en,{type:r})))})))));Bt.propTypes={attributes:t().array.isRequired};var tn=Bt,nn=s(50428),an=s(33348),sn=s.n(an),gt=s(99140),on=s(25148),rn=s(54725),Oe=s(19406);const ln=(0,Ze.ZP)(N.x)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,dn=()=>n.createElement(U.k,{wrap:"wrap",gap:4},[...Array(4)].map((e,a)=>n.createElement(ln,{key:`empty-card-${a}`,height:"138px",width:"375px",hasRadius:!0})));var cn=()=>{const{formatMessage:e}=(0,S.Z)();return n.createElement(N.x,{position:"relative"},n.createElement(dn,null),n.createElement(N.x,{position:"absolute",top:6,width:"100%"},n.createElement(U.k,{alignItems:"center",justifyContent:"center",direction:"column"},n.createElement(gt.J,{as:rn.Z,color:"",width:"160px",height:"88px"}),n.createElement(N.x,{paddingTop:6,paddingBottom:4},n.createElement(N.x,{textAlign:"center"},n.createElement(q.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,c.Z)("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})),n.createElement(N.x,{paddingTop:4},n.createElement(q.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,c.Z)("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."}))))),n.createElement(on.Q,{to:`/marketplace?${sn().stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:n.createElement(Oe.Z,null)},e({id:(0,c.Z)("modalForm.empty.button"),defaultMessage:"Add custom fields"})))))};const Ft=({customFieldUid:e,customField:a})=>{const{type:o,intlLabel:r,intlDescription:i}=a,{formatMessage:d}=(0,S.Z)(),{onClickSelectCustomField:l}=(0,ye.Z)(),u=()=>{l({attributeType:o,customFieldUid:e})};return n.createElement(Ut,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:u},n.createElement(U.k,null,n.createElement(ke.Z,{type:o,customField:e}),n.createElement(N.x,{paddingLeft:4},n.createElement(U.k,null,n.createElement(q.Z,{fontWeight:"bold"},d(r))),n.createElement(U.k,null,n.createElement(q.Z,{variant:"pi",textColor:"neutral600"},d(i))))))};Ft.propTypes={customFieldUid:t().string.isRequired,customField:t().shape({type:t().string.isRequired,icon:t().func,intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired}).isRequired,intlDescription:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired}).isRequired}).isRequired};var un=Ft,mn=()=>{const{formatMessage:e}=(0,S.Z)(),a=(0,b.mZ)(),o=Object.entries(a.getAll());if(!o.length)return n.createElement(cn,null);const r=o.sort((i,d)=>i[1].name>d[1].name?1:-1);return n.createElement(ut.k,{tagName:"button"},n.createElement(U.k,{direction:"column",alignItems:"stretch",gap:3},n.createElement(mt.r,{gap:0},r.map(([i,d],l)=>{const{paddingLeft:u,paddingRight:m}=_t(l);return n.createElement(Ve.P,{key:i,col:6,style:{height:"100%"}},n.createElement(N.x,{paddingLeft:u,paddingRight:m,paddingBottom:1,style:{height:"100%"}},n.createElement(un,{key:i,customFieldUid:i,customField:d})))})),n.createElement(nn.r,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0},e({id:(0,c.Z)("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"}))))};const Wt=({attributes:e,forTarget:a,kind:o})=>{const{formatMessage:r}=(0,S.Z)(),i=(0,c.Z)("modalForm.tabs.default"),d=(0,c.Z)("modalForm.tabs.custom"),l=a.includes("component")?"component":o,u=(0,c.Z)(`modalForm.sub-header.chooseAttribute.${l}`);return n.createElement(Be.f,{padding:6},n.createElement(Fe.v,{label:r({id:(0,c.Z)("modalForm.tabs.label"),defaultMessage:"Default and Custom types tabs"}),id:"attribute-type-tabs",variant:"simple"},n.createElement(U.k,{justifyContent:"space-between"},n.createElement(q.Z,{variant:"beta",as:"h2"},r({id:u,defaultMessage:"Select a field"})),n.createElement(Ae.m,null,n.createElement(Ae.O,null,r({id:i,defaultMessage:"Default"})),n.createElement(Ae.O,null,r({id:d,defaultMessage:"Custom"})))),n.createElement(N.x,{paddingBottom:6},n.createElement(lt.i,null)),n.createElement(Le.n,null,n.createElement(Le.x,null,n.createElement(tn,{attributes:e})),n.createElement(Le.x,null,n.createElement(mn,null)))))};Wt.propTypes={attributes:t().array.isRequired,forTarget:t().string.isRequired,kind:t().string.isRequired};var pn=Wt,ft=s(8284);const yt=({description:e,disabled:a,intlLabel:o,isCreating:r,name:i,onChange:d,value:l})=>{const{formatMessage:u}=(0,S.Z)(),[m,g]=(0,n.useState)(!1),f=o.id?u({id:o.id,defaultMessage:o.defaultMessage},{...o.values}):i,p=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",Z=()=>g(C=>!C),h=()=>{d({target:{name:i,value:!1}}),Z()},E=({target:{checked:C}})=>{if(!C&&!r){Z();return}d({target:{name:i,value:C}})};return n.createElement(n.Fragment,null,n.createElement(ft.X,{checked:l,disabled:a,hint:p,name:i,onChange:E},f),n.createElement(b.QH,{isOpen:m,onToggleDialog:Z,onConfirm:h,bodyText:{id:(0,c.Z)("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:(0,c.Z)("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}}))};yt.defaultProps={description:null,disabled:!1,value:!1},yt.propTypes={description:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}),disabled:t().bool,intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,isCreating:t().bool.isRequired,name:t().string.isRequired,onChange:t().func.isRequired,value:t().bool};var gn=yt;const Et=({description:e,disabled:a,intlLabel:o,isCreating:r,name:i,onChange:d,value:l})=>{const{trackUsage:u}=(0,b.rS)(),{formatMessage:m}=(0,S.Z)(),[g,f]=(0,n.useState)(!1),p=o.id?m({id:o.id,defaultMessage:o.defaultMessage},{...o.values}):i,Z=e?m({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",h=()=>f(I=>!I),E=()=>{d({target:{name:i,value:!1}}),u("willDisableWorkflow"),h()},C=({target:{checked:I}})=>{if(!I&&!r){h();return}I&&u("willEnableWorkflow"),d({target:{name:i,value:I}})};return n.createElement(n.Fragment,null,n.createElement(ft.X,{checked:l,disabled:a,hint:Z,name:i,onChange:C},p),n.createElement(b.QH,{isOpen:g,onToggleDialog:h,onConfirm:E,bodyText:{id:(0,c.Z)("popUpWarning.review-workflows.message"),defaultMessage:"If you disable the review workflows feature, all stage-related information will be removed for this content-type. Are you sure you want to disable it?"},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:(0,c.Z)("popUpWarning.review-workflows.button.confirm"),defaultMessage:"Yes, disable"}}))};Et.defaultProps={description:null,disabled:!1,value:!1},Et.propTypes={description:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}),disabled:t().bool,intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,isCreating:t().bool.isRequired,name:t().string.isRequired,onChange:t().func.isRequired,value:t().bool};var fn=Et,Nt=s(55225),vt=s(11299);const ht=({actionType:e,attributeName:a,attributeType:o,categoryName:r,contentTypeKind:i,dynamicZoneTarget:d,forTarget:l,modalType:u,targetUid:m,customFieldUid:g})=>{const{formatMessage:f}=(0,S.Z)(),{modifiedData:p}=(0,Me.Z)();let Z,h=[];const E=p?.[l]?.[m]||p?.[l]||null;let C=E?.schema.displayName;if(u==="contentType"&&(Z=i),["component","editCategory"].includes(u)&&(Z="component"),["component","contentType"].includes(u)){let M=(0,c.Z)(`modalForm.component.header-${e}`);return u==="contentType"&&(M=(0,c.Z)(`modalForm.${i}.header-create`)),e==="edit"&&(M=(0,c.Z)("modalForm.header-edit")),n.createElement(Nt.x,null,n.createElement(U.k,null,n.createElement(N.x,null,n.createElement(ke.Z,{type:Z})),n.createElement(N.x,{paddingLeft:3},n.createElement(q.Z,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},f({id:M},{name:C})))))}h=[{label:C,info:{category:E?.category||null,name:E?.schema.displayName}}],u==="chooseAttribute"&&(Z=["component","components"].includes(l)?"component":E.schema.kind),u==="addComponentToDynamicZone"&&(Z="dynamiczone",h.push({label:d})),(u==="attribute"||u==="customField")&&(Z=o,h.push({label:a})),u==="editCategory"&&(h=[{label:f({id:(0,c.Z)("modalForm.header.categories"),defaultMessage:"Categories"})},{label:r}]);const T=h.map(({label:M})=>M).join(",");return n.createElement(Nt.x,null,n.createElement(U.k,{gap:3},n.createElement(ke.Z,{type:Z,customField:g}),n.createElement(vt.O,{label:T},h.map((M,P)=>{const K=Ee()(M.label);if(!K)return null;const V=`${M.label}.${P}`;if(M.info?.category){const J=`${K} (${Ee()(M.info.category)} - ${Ee()(M.info.name)})`;return n.createElement(vt.$,{key:V},J)}return n.createElement(vt.$,{key:V},K)}))))};ht.defaultProps={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,contentTypeKind:null,targetUid:null,customFieldUid:null},ht.propTypes={actionType:t().string,attributeName:t().string,attributeType:t().string,categoryName:t().string,contentTypeKind:t().string,dynamicZoneTarget:t().string,forTarget:t().oneOf(["contentType","component","components"]),modalType:t().string.isRequired,targetUid:t().string,customFieldUid:t().string};var yn=ht;const Mt=({categoryName:e,deleteCategory:a,deleteComponent:o,deleteContentType:r,isAttributeModal:i,isCustomFieldModal:d,isComponentAttribute:l,isComponentToDzModal:u,isContentTypeModal:m,isCreatingComponent:g,isCreatingComponentAttribute:f,isCreatingComponentInDz:p,isCreatingComponentWhileAddingAField:Z,isCreatingContentType:h,isCreatingDz:E,isComponentModal:C,isDzAttribute:I,isEditingAttribute:T,isEditingCategory:M,isInFirstComponentStep:P,onSubmitAddComponentAttribute:K,onSubmitAddComponentToDz:V,onSubmitCreateContentType:J,onSubmitCreateComponent:ae,onSubmitCreateDz:_,onSubmitEditAttribute:ve,onSubmitEditCategory:Y,onSubmitEditComponent:k,onSubmitEditContentType:Te,onSubmitEditCustomFieldAttribute:G,onSubmitEditDz:Xe,onClickFinish:ne})=>{const{formatMessage:j}=(0,S.Z)();return u?p?n.createElement(H.z,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),V(O,!0)},startIcon:n.createElement(Oe.Z,null)},j({id:(0,c.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})):n.createElement(H.z,{variant:"default",type:"submit",onClick:O=>{O.preventDefault(),V(O,!1)}},j({id:"global.finish",defaultMessage:"Finish"})):i&&I&&!E?n.createElement(H.z,{variant:"default",type:"submit",onClick:O=>{O.preventDefault(),ne(),Xe(O,!1)}},j({id:"global.finish",defaultMessage:"Finish"})):i&&I&&E?n.createElement(n.Fragment,null,n.createElement(H.z,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),_(O,!0)},startIcon:n.createElement(Oe.Z,null)},j({id:(0,c.Z)("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"}))):i&&l?P?n.createElement(H.z,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),K(O,!0)}},j(f?{id:(0,c.Z)("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:(0,c.Z)("form.button.select-component"),defaultMessage:"Configure the component"})):n.createElement(n.Fragment,null,n.createElement(H.z,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),K(O,!0)},startIcon:n.createElement(Oe.Z,null)},j(Z?{id:(0,c.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:(0,c.Z)("form.button.add-field"),defaultMessage:"Add another field"})),n.createElement(H.z,{variant:"default",type:"button",onClick:O=>{O.preventDefault(),ne(),K(O,!1)}},j({id:"global.finish",defaultMessage:"Finish"}))):i&&!l&&!I?n.createElement(n.Fragment,null,n.createElement(H.z,{type:T?"button":"submit",variant:"secondary",onClick:O=>{O.preventDefault(),ve(O,!0)},startIcon:n.createElement(Oe.Z,null)},j({id:(0,c.Z)("form.button.add-field"),defaultMessage:"Add another field"})),n.createElement(H.z,{type:T?"submit":"button",variant:"default",onClick:O=>{O.preventDefault(),ne(),ve(O,!1)}},j({id:"global.finish",defaultMessage:"Finish"}))):m?n.createElement(n.Fragment,null,!h&&n.createElement(n.Fragment,null,n.createElement(H.z,{type:"button",variant:"danger",onClick:O=>{O.preventDefault(),r()}},j({id:"global.delete",defaultMessage:"Delete"})),n.createElement(H.z,{type:"submit",variant:"default",onClick:O=>{O.preventDefault(),Te(O,!1)}},j({id:"global.finish",defaultMessage:"Finish"}))),h&&n.createElement(H.z,{type:"submit",variant:"secondary",onClick:O=>{O.preventDefault(),J(O,!0)}},j({id:"global.continue",defaultMessage:"Continue"}))):C?n.createElement(n.Fragment,null,!g&&n.createElement(n.Fragment,null,n.createElement(H.z,{type:"button",variant:"danger",onClick:O=>{O.preventDefault(),o()}},j({id:"global.delete",defaultMessage:"Delete"})),n.createElement(H.z,{type:"submit",variant:"default",onClick:O=>{O.preventDefault(),k(O,!1)}},j({id:"global.finish",defaultMessage:"Finish"}))),g&&n.createElement(H.z,{type:"submit",variant:"secondary",onClick:O=>{O.preventDefault(),ae(O,!0)}},j({id:"global.continue",defaultMessage:"Continue"}))):M?n.createElement(n.Fragment,null,n.createElement(H.z,{type:"button",variant:"danger",onClick:O=>{O.preventDefault(),a(e)}},j({id:"global.delete",defaultMessage:"Delete"})),n.createElement(H.z,{type:"submit",variant:"default",onClick:O=>{O.preventDefault(),Y(O)}},j({id:"global.finish",defaultMessage:"finish"}))):d?n.createElement(n.Fragment,null,n.createElement(H.z,{type:T?"button":"submit",variant:"secondary",onClick:O=>{O.preventDefault(),G(O,!0)},startIcon:n.createElement(Oe.Z,null)},j({id:(0,c.Z)("form.button.add-field"),defaultMessage:"Add another field"})),n.createElement(H.z,{type:T?"submit":"button",variant:"default",onClick:O=>{O.preventDefault(),ne(),G(O,!1)}},j({id:"global.finish",defaultMessage:"Finish"}))):null};Mt.defaultProps={categoryName:null,onClickFinish(){}},Mt.propTypes={categoryName:t().string,deleteCategory:t().func.isRequired,deleteComponent:t().func.isRequired,deleteContentType:t().func.isRequired,isAttributeModal:t().bool.isRequired,isCustomFieldModal:t().bool.isRequired,isComponentAttribute:t().bool.isRequired,isComponentModal:t().bool.isRequired,isComponentToDzModal:t().bool.isRequired,isContentTypeModal:t().bool.isRequired,isCreatingComponent:t().bool.isRequired,isCreatingComponentAttribute:t().bool.isRequired,isCreatingComponentInDz:t().bool.isRequired,isCreatingComponentWhileAddingAField:t().bool.isRequired,isCreatingContentType:t().bool.isRequired,isCreatingDz:t().bool.isRequired,isDzAttribute:t().bool.isRequired,isEditingAttribute:t().bool.isRequired,isEditingCategory:t().bool.isRequired,isInFirstComponentStep:t().bool.isRequired,onSubmitAddComponentAttribute:t().func.isRequired,onSubmitAddComponentToDz:t().func.isRequired,onSubmitCreateContentType:t().func.isRequired,onSubmitCreateComponent:t().func.isRequired,onSubmitCreateDz:t().func.isRequired,onSubmitEditAttribute:t().func.isRequired,onSubmitEditCategory:t().func.isRequired,onSubmitEditComponent:t().func.isRequired,onSubmitEditContentType:t().func.isRequired,onSubmitEditCustomFieldAttribute:t().func.isRequired,onSubmitEditDz:t().func.isRequired,onClickFinish:t().func};var En=Mt,vn=({modalType:e,forTarget:a,kind:o,actionType:r,step:i})=>{switch(e){case"chooseAttribute":return(0,c.Z)(`modalForm.sub-header.chooseAttribute.${a.includes("component")?"component":o||"collectionType"}`);case"attribute":return(0,c.Z)(`modalForm.sub-header.attribute.${r}${i!=="null"&&i!==null&&r!=="edit"?".step":""}`);case"customField":return(0,c.Z)(`modalForm.sub-header.attribute.${r}`);case"addComponentToDynamicZone":return(0,c.Z)("modalForm.sub-header.addComponentToDynamicZone");default:return(0,c.Z)("configurations")}};const bt=({actionType:e,modalType:a,forTarget:o,kind:r,step:i,attributeType:d,attributeName:l,customField:u})=>{const{formatMessage:m}=(0,S.Z)(),g=a==="customField"?u.intlLabel:{id:(0,c.Z)(`attribute.${d}`)};return n.createElement(U.k,{direction:"column",alignItems:"flex-start",paddingBottom:2,gap:1},n.createElement(q.Z,{as:"h2",variant:"beta"},m({id:vn({actionType:e,forTarget:o,kind:r,step:i,modalType:a}),defaultMessage:"Add new field"},{type:Ee()(m(g)),name:Ee()(l),step:i})),n.createElement(q.Z,{variant:"pi",textColor:"neutral600"},m({id:(0,c.Z)(`attribute.${d}.description`),defaultMessage:"A type for modeling data"})))};bt.defaultProps={actionType:null,modalType:null,forTarget:null,kind:null,step:null,attributeType:null,attributeName:null,customField:null},bt.propTypes={actionType:t().string,modalType:t().string,forTarget:t().string,kind:t().string,step:t().string,attributeType:t().string,attributeName:t().string,customField:t().object};var hn=bt,Ge=s(68465),He=s(84967);const Tt=({intlLabel:e,name:a,options:o,onChange:r,value:i})=>{const{formatMessage:d}=(0,S.Z)(),l=e.id?d({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):a,u=m=>{let g="";m==="true"&&(g=!0),m==="false"&&(g=!1),r({target:{name:a,value:g,type:"select-default-boolean"}})};return n.createElement(Ge.P,{label:l,id:a,name:a,onChange:u,value:(i===null?"":i).toString()},o.map(({metadatas:{intlLabel:m,disabled:g,hidden:f},key:p,value:Z})=>n.createElement(He.W,{key:p,value:Z,disabled:g,hidden:f},m.defaultMessage)))};Tt.defaultProps={value:null},Tt.propTypes={intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,name:t().string.isRequired,onChange:t().func.isRequired,options:t().arrayOf(t().shape({metadatas:t().shape({intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired}).isRequired,disabled:t().bool,hidden:t().bool}).isRequired,key:t().oneOfType([t().string,t().number]).isRequired,value:t().oneOfType([t().string,t().number]).isRequired}).isRequired).isRequired,value:t().any};var Mn=Tt,Kt=s(30350);const bn=(0,Ze.ZP)(U.k)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,Kt.k3)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    ${q.Z} {
      color: ${({theme:e})=>e.colors.primary600};
    }
    border: 1px solid ${({theme:e})=>e.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,Ct=({intlLabel:e,name:a,onChange:o,radios:r,value:i})=>{const{formatMessage:d}=(0,S.Z)();return n.createElement(U.k,{direction:"column",alignItems:"stretch",gap:2},n.createElement(q.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:a,as:"label"},d(e)),n.createElement(bn,{gap:4,alignItems:"stretch"},r.map(l=>n.createElement("label",{htmlFor:l.value.toString(),key:l.value,className:"container"},n.createElement("input",{id:l.value.toString(),name:a,className:"option-input",checked:l.value===i,value:l.value,key:l.value,onChange:o,type:"radio"}),n.createElement(N.x,{className:"option",padding:4},n.createElement(U.k,null,n.createElement(N.x,{paddingRight:4},n.createElement("span",{className:"checkmark"})),n.createElement(U.k,{direction:"column",alignItems:"stretch",gap:2},n.createElement(q.Z,{fontWeight:"bold"},d(l.title)),n.createElement(q.Z,{variant:"pi",textColor:"neutral600"},d(l.description)))))))))};Ct.defaultProps={radios:[]},Ct.propTypes={intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,name:t().string.isRequired,onChange:t().func.isRequired,radios:t().arrayOf(t().shape({title:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired}),description:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired}),value:t().any.isRequired})),value:t().oneOfType([t().string,t().bool]).isRequired};var Rt=Ct;const $t=({onChange:e,name:a,...o})=>{const r=i=>{const d=i.target.value!=="false";e({target:{name:a,value:d,type:"boolean-radio-group"}})};return n.createElement(Rt,{...o,name:a,onChange:r})};$t.propTypes={name:t().string.isRequired,onChange:t().func.isRequired};var Tn=$t,Zt=s(10369),Cn=s(32382);const Ot=({error:e,intlLabel:a,modifiedData:o,name:r,onChange:i,value:d})=>{const{formatMessage:l}=(0,S.Z)(),[u,m]=(0,n.useState)(!!d||d===0),g=a.id?l({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):r,f=o.type==="biginteger"?"text":"number",p=!o.type,Z=e?l({id:e,defaultMessage:e}):"";return n.createElement(U.k,{direction:"column",alignItems:"stretch",gap:2},n.createElement(ft.X,{id:r,name:r,onValueChange:h=>{i({target:{name:r,value:h?f==="text"?"0":0:null}}),m(I=>!I)},value:u},g),u&&n.createElement(N.x,{paddingLeft:6,style:{maxWidth:"200px"}},f==="text"?n.createElement(Zt.o,{"aria-label":g,disabled:p,error:Z,id:r,name:r,onChange:i,value:d===null?"":d}):n.createElement(Cn.Y,{"aria-label":g,disabled:p,error:Z,id:r,name:r,onValueChange:h=>{i({target:{name:r,value:h,type:f}})},value:d||0})))};Ot.defaultProps={error:null,value:null},Ot.propTypes={error:t().string,intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,modifiedData:t().object.isRequired,name:t().string.isRequired,onChange:t().func.isRequired,value:t().oneOfType([t().string,t().object,t().bool,t().number])};var Rn=Ot;const jt=({onChange:e,...a})=>{const o=(0,b.lm)(),r=i=>{o({type:"info",message:{id:(0,c.Z)("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),e(i)};return n.createElement(Rt,{...a,onChange:r})};jt.propTypes={onChange:t().func.isRequired};var Zn=jt,On=s(87107),Pn=s(28847),Dn=s(3685),An=s(98275),Ln=s(61774),zt=s(50563),In=s(63919),xn=s(6792),Sn=s(4038),qt=s(31753);const Un=(0,Ze.ZP)(U.k)`
  label {
    ${Kt.k3}
    border-radius: ${({theme:e})=>e.borderRadius};
    border: 1px solid ${({theme:e})=>e.colors.neutral100};
  }
`,Vt=({iconKey:e,name:a,onChange:o,isSelected:r,ariaLabel:i})=>n.createElement(On.g,{name:a,required:!1},n.createElement(Pn.Q,{htmlFor:e,id:`${e}-label`},n.createElement(Dn.T,null,n.createElement(An._,{type:"radio",id:e,name:a,checked:r,onChange:o,value:e,"aria-checked":r,"aria-labelledby":`${e}-label`}),i),n.createElement(U.k,{padding:2,cursor:"pointer",hasRadius:!0,background:r&&"primary200"},n.createElement(gt.J,{as:qt.c[e],color:r?"primary600":"neutral300"}))));Vt.propTypes={iconKey:t().string.isRequired,name:t().string.isRequired,onChange:t().func.isRequired,isSelected:t().bool.isRequired,ariaLabel:t().string.isRequired};const Pt=({intlLabel:e,name:a,onChange:o,value:r})=>{const{formatMessage:i}=(0,S.Z)(),[d,l]=(0,n.useState)(!1),[u,m]=(0,n.useState)(""),g=Object.keys(qt.c),[f,p]=(0,n.useState)(g),Z=(0,n.useRef)(null),h=(0,n.useRef)(null),E=()=>{l(!d)},C=({target:{value:M}})=>{m(M),p(()=>g.filter(P=>P.toLowerCase().includes(M.toLowerCase())))},I=()=>{E(),m(""),p(g)},T=()=>{o({target:{name:a,value:""}})};return(0,n.useEffect)(()=>{d&&h.current.focus()},[d]),n.createElement(n.Fragment,null,n.createElement(U.k,{justifyContent:"space-between",paddingBottom:2},n.createElement(q.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",as:"label"},i(e)),n.createElement(U.k,{gap:1},d?n.createElement(Ln.w,{ref:h,name:"searchbar",size:"S",placeholder:i({id:(0,c.Z)("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}),onBlur:()=>{u||E()},onChange:C,value:u,onClear:I,clearLabel:i({id:(0,c.Z)("IconPicker.search.clear.label"),defaultMessage:"Clear the icon search"})},i({id:(0,c.Z)("IconPicker.search.placeholder.label"),defaultMessage:"Search for an icon"})):n.createElement(zt.h,{ref:Z,onClick:E,"aria-label":i({id:(0,c.Z)("IconPicker.search.button.label"),defaultMessage:"Search icon button"}),icon:n.createElement(xn.Z,null),noBorder:!0}),r&&n.createElement(In.u,{description:i({id:(0,c.Z)("IconPicker.remove.tooltip"),defaultMessage:"Remove the selected icon"})},n.createElement(zt.h,{onClick:T,"aria-label":i({id:(0,c.Z)("IconPicker.remove.button"),defaultMessage:"Remove the selected icon button"}),icon:n.createElement(Sn.Z,null),noBorder:!0})))),n.createElement(Un,{position:"relative",padding:1,background:"neutral100",hasRadius:!0,wrap:"wrap",gap:2,maxHeight:"126px",overflow:"auto",textAlign:"center"},f.length>0?f.map(M=>n.createElement(Vt,{key:M,iconKey:M,name:a,onChange:o,isSelected:M===r,ariaLabel:i({id:(0,c.Z)("IconPicker.icon.label"),defaultMessage:"Select {icon} icon"},{icon:M})})):n.createElement(N.x,{padding:4,grow:2},n.createElement(q.Z,{variant:"delta",textColor:"neutral600",textAlign:"center"},i({id:(0,c.Z)("IconPicker.emptyState.label"),defaultMessage:"No icon found"})))))};Pt.defaultProps={value:""},Pt.propTypes={intlLabel:t().object.isRequired,name:t().string.isRequired,onChange:t().func.isRequired,value:t().string};var _n=Pt,Dt=s(49561),kt=s(34853),X=s(91559);const Bn=({oneThatIsCreatingARelationWithAnother:e,target:a})=>{const{contentTypes:o,sortedContentTypesList:r}=(0,Me.Z)(),i=(0,fe.I0)(),d=r.filter(St),l=R()(o,[a,"plugin"],null),u=R()(o,[a,"schema","displayName"],"error");return n.createElement(kt.O,{id:"label",label:`${u}
    ${l?`(from: ${l})`:""}`},d.map(({uid:m,title:g,restrictRelationsTo:f,plugin:p})=>{const Z=()=>{const h=p?`${p}_${g}`:g;i({type:X.aG,target:{value:m,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:h,targetContentTypeAllowedRelations:f}})};return n.createElement(kt.s,{key:m,onClick:Z},g,"\xA0",p&&n.createElement(n.Fragment,null,"(from: ",p,")"))}))};Bn.defaultProps={target:null},Bn.propTypes={oneThatIsCreatingARelationWithAnother:t().string.isRequired,target:t().string};var as=Bn;const Fn=({disabled:e,error:a,header:o,isMain:r,name:i,onChange:d,oneThatIsCreatingARelationWithAnother:l,target:u,value:m})=>n.createElement(N.x,{background:"neutral100",hasRadius:!0,borderColor:"neutral200"},n.createElement(U.k,{paddingTop:r?4:1,paddingBottom:r?3:1,justifyContent:"center"},r?n.createElement(q.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800"},o):n.createElement(as,{target:u,oneThatIsCreatingARelationWithAnother:l})),n.createElement(lt.i,{background:"neutral200"}),n.createElement(N.x,{padding:4},n.createElement(b.jm,{disabled:e,error:a?.id||null,intlLabel:{id:(0,c.Z)("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:i,onChange:d,type:"text",value:m})));Fn.defaultProps={disabled:!1,error:null,header:null,isMain:!1,onChange(){},oneThatIsCreatingARelationWithAnother:null,target:null,value:""},Fn.propTypes={disabled:t().bool,error:t().object,header:t().string,isMain:t().bool,name:t().string.isRequired,onChange:t().func,oneThatIsCreatingARelationWithAnother:t().string,target:t().string,value:t().string};var Ma=Fn,ss=s(51382),ba=s.n(ss),os=s(24443),Wn=s.n(os),is=s(25449),rs=s(10168),ls=s(7733),ds=s(79634),cs=s(26253),us=s(32548);const ms=(0,Ze.ZP)(N.x)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,ps=(0,Ze.ZP)(N.x)`
  background: ${({theme:e,isSelected:a})=>e.colors[a?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,isSelected:a})=>e.colors[a?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:e,isSelected:a})=>e.colors[a?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,gs=(0,Ze.ZP)(U.k)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,fs={oneWay:is.Z,oneToOne:rs.Z,oneToMany:ls.Z,manyToOne:ds.Z,manyToMany:cs.Z,manyWay:us.Z},Nn=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:a,relationType:o,target:r})=>{const i=(0,fe.I0)(),{formatMessage:d}=(0,S.Z)(),{contentTypes:l,modifiedData:u}=(0,Me.Z)(),m=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],g=["oneWay","manyWay"],p=(e==="contentType"?R()(u,[e,"schema","kind"],""):e)==="collectionType"?m:g,Z=o==="manyToOne",h=R()(l,[r,"schema","displayName"],"unknown"),E=Z?h:a,C=Z?a:h,I=Wn()(E,o==="manyToMany"?2:1),T=R()(l,[r,"schema","restrictRelationsTo"],null),M=Wn()(C,["manyToMany","oneToMany","manyToOne","manyWay"].includes(o)?2:1);return o?n.createElement(U.k,{style:{flex:1}},n.createElement(ms,null,n.createElement(U.k,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center"},n.createElement(ut.k,{tagName:"button"},n.createElement(U.k,{gap:3},p.map(P=>{const K=fs[P],V=T===null||T.includes(P);return n.createElement(ps,{as:"button",isSelected:o===P,disabled:!V,key:P,onClick:()=>{V&&i({type:X.QQ,target:{oneThatIsCreatingARelationWithAnother:a,targetContentType:r,value:P}})},padding:2,type:"button"},n.createElement(K,{key:P}))}))))),n.createElement(gs,{justifyContent:"center"},n.createElement(q.Z,null,ba()(I,{length:24}),"\xA0"),n.createElement(q.Z,{textColor:"primary600"},d({id:(0,c.Z)(`relation.${o}`)}),"\xA0"),n.createElement(q.Z,null,ba()(M,{length:24})))):null};Nn.defaultProps={relationType:null,target:null},Nn.propTypes={naturePickerType:t().string.isRequired,oneThatIsCreatingARelationWithAnother:t().string.isRequired,relationType:t().string,target:t().string};var ys=Nn;const Ta=({formErrors:e,mainBoxHeader:a,modifiedData:o,naturePickerType:r,onChange:i})=>{const d=(0,Dt.Z)(o.relation,o.targetAttribute);return n.createElement(U.k,{style:{position:"relative"}},n.createElement(Ma,{isMain:!0,header:a,error:e?.name||null,name:"name",onChange:i,value:o?.name||""}),n.createElement(ys,{naturePickerType:r,oneThatIsCreatingARelationWithAnother:a,relationType:d,target:o.target}),n.createElement(Ma,{disabled:["oneWay","manyWay"].includes(d),error:e?.targetAttribute||null,name:"targetAttribute",onChange:i,oneThatIsCreatingARelationWithAnother:a,target:o.target,value:o?.targetAttribute||""}))};Ta.propTypes={formErrors:t().object.isRequired,mainBoxHeader:t().string.isRequired,modifiedData:t().object.isRequired,naturePickerType:t().string.isRequired,onChange:t().func.isRequired};var Es=Ta,Ca=s(45251);const Kn=({description:e,error:a,intlLabel:o,modifiedData:r,name:i,onChange:d,value:l})=>{const{formatMessage:u}=(0,S.Z)(),m=(0,n.useRef)(d),g=r?.displayName||"";(0,n.useEffect)(()=>{if(g){const h=(0,Ca.Z)(g);try{const E=Wn()(h,2);m.current({target:{name:i,value:E}})}catch{m.current({target:{name:i,value:h}})}}else m.current({target:{name:i,value:""}})},[g,i]);const f=a?u({id:a,defaultMessage:a}):"",p=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",Z=u(o);return n.createElement(Zt.o,{error:f,label:Z,id:i,hint:p,name:i,onChange:d,value:l||""})};Kn.defaultProps={description:null,error:null,value:null},Kn.propTypes={description:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}),error:t().string,intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,modifiedData:t().object.isRequired,name:t().string.isRequired,onChange:t().func.isRequired,value:t().string};var vs=Kn,hs=s(21428),Ms=s(90333);const $n=({error:e,intlLabel:a,name:o,onChange:r,value:i})=>{const{formatMessage:d}=(0,S.Z)(),{allComponentsCategories:l}=(0,Me.Z)(),[u,m]=(0,n.useState)(l),g=e?d({id:e,defaultMessage:e}):"",f=d(a),p=h=>{r({target:{name:o,value:h,type:"select-category"}})},Z=h=>{m(E=>[...E,h]),p(h)};return n.createElement(hs.XU,{error:g,id:o,label:f,name:o,onChange:p,onCreateOption:Z,value:i},u.map(h=>n.createElement(Ms.O,{key:h,value:h},h)))};$n.defaultProps={error:null,value:null},$n.propTypes={error:t().string,intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,name:t().string.isRequired,onChange:t().func.isRequired,value:t().string};var bs=$n;const jn=({error:e,intlLabel:a,isAddingAComponentToAnotherComponent:o,isCreating:r,isCreatingComponentWhileAddingAField:i,componentToCreate:d,name:l,onChange:u,targetUid:m,forTarget:g,value:f})=>{const{formatMessage:p}=(0,S.Z)(),Z=e?p({id:e,defaultMessage:e}):"",h=p(a),{componentsGroupedByCategory:E,componentsThatHaveOtherComponentInTheirAttributes:C}=(0,Me.Z)(),I=["component","components"].includes(g);let T=Object.entries(E).reduce((M,P)=>{const[K,V]=P,J=V.map(ae=>({uid:ae.uid,label:ae.schema.displayName,categoryName:K}));return[...M,...J]},[]);return o&&(T=T.filter(M=>!C.includes(M.uid))),I&&(T=T.filter(M=>M.uid!==m)),i&&(T=[{uid:f,label:d.displayName,categoryName:d.category}]),n.createElement(Ge.P,{disabled:i||!r,error:Z,label:h,id:l,name:l,onChange:M=>{u({target:{name:l,value:M,type:"select-category"}})},value:f||""},T.map(M=>n.createElement(He.W,{key:M.uid,value:M.uid},`${M.categoryName} - ${M.label}`)))};jn.defaultProps={componentToCreate:null,error:null},jn.propTypes={componentToCreate:t().object,forTarget:t().string.isRequired,error:t().string,intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,isAddingAComponentToAnotherComponent:t().bool.isRequired,isCreating:t().bool.isRequired,isCreatingComponentWhileAddingAField:t().bool.isRequired,name:t().string.isRequired,onChange:t().func.isRequired,targetUid:t().string.isRequired,value:t().string.isRequired};var Ts=jn,zn=(e,a)=>e.find(({name:o})=>o===a);const Ra=({dynamicZoneTarget:e,intlLabel:a,name:o,onChange:r,value:i})=>{const{formatMessage:d}=(0,S.Z)(),{componentsGroupedByCategory:l,modifiedData:u}=(0,Me.Z)(),g=(zn(u.contentType.schema.attributes,e)||{}).components||[],f=Object.keys(l).reduce((h,E)=>{const C=l[E].filter(({uid:I})=>!g.includes(I));return C.length>0&&(h[E]=C),h},{}),p=Object.entries(f).reduce((h,E)=>{const[C,I]=E,T={label:C,children:I.map(({uid:M,schema:{displayName:P}})=>({label:P,value:M}))};return h.push(T),h},[]),Z=d({id:(0,c.Z)("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:i.length});return n.createElement(xt.Q,{id:"select1",label:d(a),customizeContent:()=>Z,name:o,onChange:h=>{r({target:{name:o,value:h,type:"select-components"}})},options:p,value:i||[]})};Ra.propTypes={intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,dynamicZoneTarget:t().string.isRequired,name:t().string.isRequired,onChange:t().func.isRequired,value:t().array.isRequired};var Cs=Ra;const qn=({intlLabel:e,error:a,modifiedData:o,name:r,onChange:i,options:d,value:l})=>{const{formatMessage:u}=(0,S.Z)(),m=u(e),g=a?u({id:a,defaultMessage:a}):"",f=p=>{i({target:{name:r,value:p,type:"select"}}),l&&o.default!==void 0&&o.default!==null&&i({target:{name:"default",value:null}})};return n.createElement(Ge.P,{error:g,label:m,id:r,name:r,onChange:f,value:l||""},d.map(({metadatas:{intlLabel:p,disabled:Z,hidden:h},key:E,value:C})=>n.createElement(He.W,{key:E,value:C,disabled:Z,hidden:h},u({id:p.id,defaultMessage:p.defaultMessage},p.values))))};qn.defaultProps={error:void 0,value:""},qn.propTypes={error:t().string,intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,modifiedData:t().object.isRequired,name:t().string.isRequired,onChange:t().func.isRequired,options:t().arrayOf(t().shape({metadatas:t().shape({intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired}).isRequired,disabled:t().bool,hidden:t().bool}).isRequired,key:t().oneOfType([t().string,t().number]).isRequired,value:t().oneOfType([t().string,t().number]).isRequired}).isRequired).isRequired,value:t().string};var Rs=qn;const Vn=({intlLabel:e,error:a,modifiedData:o,name:r,onChange:i,options:d,value:l})=>{const{formatMessage:u}=(0,S.Z)(),m=u(e),g=a?u({id:a,defaultMessage:a}):"",f=p=>{i({target:{name:r,value:p,type:"select"}}),l&&(p==="biginteger"&&l!=="biginteger"&&(o.default!==void 0&&o.default!==null&&i({target:{name:"default",value:null}}),o.max!==void 0&&o.max!==null&&i({target:{name:"max",value:null}}),o.min!==void 0&&o.min!==null&&i({target:{name:"min",value:null}})),["decimal","float","integer"].includes(p)&&l==="biginteger"&&(o.default!==void 0&&o.default!==null&&i({target:{name:"default",value:null}}),o.max!==void 0&&o.max!==null&&i({target:{name:"max",value:null}}),o.min!==void 0&&o.min!==null&&i({target:{name:"min",value:null}})))};return n.createElement(Ge.P,{error:g,label:m,id:r,name:r,onChange:f,value:l||""},d.map(({metadatas:{intlLabel:p,disabled:Z,hidden:h},key:E,value:C})=>n.createElement(He.W,{key:E,value:C,disabled:Z,hidden:h},u(p))))};Vn.defaultProps={error:void 0,value:""},Vn.propTypes={error:t().string,intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,modifiedData:t().object.isRequired,name:t().string.isRequired,onChange:t().func.isRequired,options:t().arrayOf(t().shape({metadatas:t().shape({intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired}).isRequired,disabled:t().bool,hidden:t().bool}).isRequired,key:t().oneOfType([t().string,t().number]).isRequired,value:t().oneOfType([t().string,t().number]).isRequired}).isRequired).isRequired,value:t().string};var Zs=Vn;const kn=({description:e,error:a,intlLabel:o,modifiedData:r,name:i,onChange:d,value:l})=>{const{formatMessage:u}=(0,S.Z)(),m=(0,n.useRef)(d),g=r?.displayName||"";(0,n.useEffect)(()=>{g?m.current({target:{name:i,value:(0,Ca.Z)(g)}}):m.current({target:{name:i,value:""}})},[g,i]);const f=a?u({id:a,defaultMessage:a}):"",p=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",Z=u(o);return n.createElement(Zt.o,{error:f,label:Z,id:i,hint:p,name:i,onChange:d,value:l||""})};kn.defaultProps={description:null,error:null,value:null},kn.propTypes={description:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}),error:t().string,intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,modifiedData:t().object.isRequired,name:t().string.isRequired,onChange:t().func.isRequired,value:t().string};var Os=kn;const Za=({form:e,formErrors:a,genericInputProps:o,modifiedData:r,onChange:i})=>{const{formatMessage:d}=(0,S.Z)();return e.map((l,u)=>l.items.length===0?null:n.createElement(N.x,{key:u},l.sectionTitle&&n.createElement(N.x,{paddingBottom:4},n.createElement(q.Z,{variant:"delta",as:"h3"},d(l.sectionTitle))),n.createElement(mt.r,{gap:4},l.items.map((m,g)=>{const f=`${u}.${g}`,p=R()(r,m.name,""),Z=Object.keys(a).find(E=>E===m.name),h=Z?a[Z].id:R()(a,[...m.name.split(".").filter(E=>E!=="componentToCreate"),"id"],null);return m.type==="pushRight"?n.createElement(Ve.P,{col:m.size||6,key:m.name||f},n.createElement("div",null)):n.createElement(Ve.P,{col:m.size||6,key:m.name||f},n.createElement(b.jm,{...m,...o,error:h,onChange:i,value:p}))}))))};Za.propTypes={form:t().arrayOf(t().object).isRequired,formErrors:t().object.isRequired,genericInputProps:t().object.isRequired,modifiedData:t().object.isRequired,onChange:t().func.isRequired};var Oa=Za,Ps=s(33475);const Gn=({description:e,disabled:a,error:o,intlLabel:r,labelAction:i,name:d,onChange:l,placeholder:u,value:m})=>{const{formatMessage:g}=(0,S.Z)(),f=o?g({id:o,defaultMessage:o}):"",p=e?g({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",Z=g(r),h=u?g({id:u.id,defaultMessage:u.defaultMessage},{...u.values}):"",E=Array.isArray(m)?m.join(`
`):"",C=I=>{const T=I.target.value.split(`
`);l({target:{name:d,value:T}})};return n.createElement(Ps.g,{disabled:a,error:f,label:Z,labelAction:i,id:d,hint:p,name:d,onChange:C,placeholder:h,value:E},E)};Gn.defaultProps={description:null,disabled:!1,error:"",labelAction:void 0,placeholder:null,value:""},Gn.propTypes={description:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}),disabled:t().bool,error:t().string,intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,labelAction:t().element,name:t().string.isRequired,onChange:t().func.isRequired,placeholder:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}),value:t().oneOfType([t().array,t().string])};var Ds=Gn,As=(e,a)=>{const o=R()(e,["contentType","schema","kind"],"");return o==="singleType"||o===a.kind?!0:R()(e,["contentType","schema","attributes"],[]).filter(({relation:d,type:l,targetAttribute:u})=>{const m=(0,Dt.Z)(d,u);return l==="relation"&&!["oneWay","manyWay"].includes(m)}).length===0},Ls=(e="",a,o)=>{const r=["text","email","richtext","password","number","enumeration","date","media","boolean","json","relation"],i=e==="contentType",d=o.includes(a),l=!i&&!d;return i?[[...r,"uid"],["component","dynamiczone"]]:l?[r,["component"]]:[r]},Pa=e=>e.reduce((a,o)=>{const r=o.items.reduce((i,d)=>(d.name&&i.push(d.name),i),[]);return[...a,...r]},[]),v=s(24346),Ye=s(2158),Is={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,c.Z)("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}},Da=/^[A-Za-z][-_0-9A-Za-z]*$/,xs=e=>{const a={name:v.Z_().matches(Da,b.I0.regex).test({name:"nameNotAllowed",message:b.I0.unique,test(o){return o?!e.includes(o?.toLowerCase()):!1}}).required(b.I0.required)};return v.Ry(a)},Ss=(e,a,o)=>{const r={displayName:v.Z_().test({name:"nameAlreadyUsed",message:b.I0.unique,test(i){if(!i)return!1;const d=(0,Ye.N)(i,o);return!e.includes(d)}}).test({name:"nameNotAllowed",message:(0,c.Z)("error.contentTypeName.reserved-name"),test(i){return i?!a.includes(i?.trim()?.toLowerCase()):!1}}).required(b.I0.required),category:v.Z_().matches(Da,b.I0.regex).required(b.I0.required),icon:v.Z_()};return v.Ry(r)},Hn={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,c.Z)("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:(0,c.Z)("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:(0,c.Z)("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:(0,c.Z)("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},Qe={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:(0,c.Z)("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:(0,c.Z)("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]},{sectionTitle:null,items:[{name:`${e}icon`,type:"icon-picker",size:12,intlLabel:{id:(0,c.Z)("modalForm.components.icon.label"),defaultMessage:"Icon"}}]}]},advanced(){return[]}},D={default:{name:"default",type:"text",intlLabel:{id:(0,c.Z)("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:(0,c.Z)("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:(0,c.Z)("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:(0,c.Z)("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:(0,c.Z)("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:(0,c.Z)("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:(0,c.Z)("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:(0,c.Z)("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:(0,c.Z)("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:(0,c.Z)("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:(0,c.Z)("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:(0,c.Z)("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:(0,c.Z)("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},Us={boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:(0,c.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},component({repeatable:e},a){return a==="1"?{sections:Qe.advanced("componentToCreate")}:e?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private,D.max,D.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},date({type:e}){return{sections:[{sectionTitle:null,items:[{...D.default,type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.unique,D.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.max,D.min]}]}},email(){return{sections:[{sectionTitle:null,items:[{...D.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.unique,D.maxLength,D.minLength,D.private]}]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:(0,c.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((a,o)=>e.enum.indexOf(a)===o&&a).map(a=>({key:a,value:a,metadatas:{intlLabel:{id:`${a}.no-override`,defaultMessage:a}}}))]},{intlLabel:{id:(0,c.Z)("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:(0,c.Z)("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:(0,c.Z)("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},number(e){const a=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:a,intlLabel:{id:(0,c.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.unique,D.max,D.min,D.private]}]}},password(){return{sections:[{sectionTitle:null,items:[D.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.maxLength,D.minLength,D.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[D.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.maxLength,D.minLength,D.private]}]}},text(){return{sections:[{sectionTitle:null,items:[D.default,D.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.unique,D.maxLength,D.minLength,D.private]}]}},uid(e){return{sections:[{sectionTitle:null,items:[{...D.default,disabled:Boolean(e.targetField),type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.maxLength,D.minLength,D.private]}]}}};const be={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,c.Z)("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}};var _s={component(e,a){if(a==="1"){const o=e.createComponent===!0?Qe.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[Hn]},...o]}}return{sections:[{sectionTitle:null,items:[be,{name:"component",type:"select-component",intlLabel:{id:(0,c.Z)("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,c.Z)("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:(0,c.Z)("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:(0,c.Z)("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:(0,c.Z)("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[be,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[be]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:(0,c.Z)("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:(0,c.Z)("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[be]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:(0,c.Z)("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:(0,c.Z)("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:(0,c.Z)("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:(0,c.Z)("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[be,{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[be]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,c.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,c.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,c.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,c.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[be]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,c.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,c.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,c.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,c.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,a,o){const r=o.filter(({type:i})=>["string","text"].includes(i)).map(({name:i})=>({key:i,value:i,metadatas:{intlLabel:{id:`${i}.no-override`,defaultMessage:i}}}));return{sections:[{sectionTitle:null,items:[{...be,placeholder:{id:(0,c.Z)("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. slug, seoUrl, canonicalUrl"}},{intlLabel:{id:(0,c.Z)("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...r]}]}]}}},Aa={advanced:Us,base:_s},Bs={sections:[{sectionTitle:null,items:[be]}]},Fs=s(91815),Ws=s.n(Fs),Ns=s(40791),Ks=s.n(Ns),Yn=e=>Ks()(e,{decamelize:!1,lowercase:!1,separator:"_"}),$s=s(78746),Qn=s.n($s);const La=/^[A-Za-z][_0-9A-Za-z]*$/,Ia=e=>({name:"attributeNameAlreadyUsed",message:b.I0.unique,test(a){return a?!e.includes(a):!1}}),mi=(e,a,o)=>{const r=e?.schema?.attributes??{};return Object.keys(r).filter(i=>a?i!==o:!0)},Xn=e=>({name:"forbiddenAttributeName",message:(0,c.Z)("error.attributeName.reserved-name"),test(a){return a?!e.includes(a):!1}}),y={default:()=>v.Z_().nullable(),max:()=>v.Rx().integer().nullable(),min:()=>v.Rx().integer().when("max",(e,a)=>e?a.max(e,(0,c.Z)("error.validation.minSupMax")):a).nullable(),maxLength:()=>v.Rx().integer().positive((0,c.Z)("error.validation.positive")).nullable(),minLength:()=>v.Rx().integer().min(0).when("maxLength",(e,a)=>e?a.max(e,(0,c.Z)("error.validation.minSupMax")):a).nullable(),name(e,a){return v.Z_().test(Ia(e)).test(Xn(a)).matches(La,b.I0.regex).required(b.I0.required)},required:()=>v.O7(),type:()=>v.Z_().required(b.I0.required),unique:()=>v.O7().nullable()},Jn=(e,a)=>({name:y.name(e,a),type:y.type(),default:y.default(),unique:y.unique(),required:y.required(),maxLength:y.maxLength(),minLength:y.minLength(),regex:v.Z_().test({name:"isValidRegExpPattern",message:(0,c.Z)("error.validation.regex"),test(r){return new RegExp(r)!==null}}).nullable()}),wn={name:"isMinSuperiorThanMax",message:(0,c.Z)("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:a}=this.parent;return!a||Number.isNaN(Qn()(e))?!0:Qn()(a)>=Qn()(e)}};var ea={date(e,a){const o={name:y.name(e,a),type:y.type()};return v.Ry(o)},datetime(e,a){const o={name:y.name(e,a),type:y.type()};return v.Ry(o)},time(e,a){const o={name:y.name(e,a),type:y.type()};return v.Ry(o)},default(e,a){const o={name:y.name(e,a),type:y.type()};return v.Ry(o)},biginteger(e,a){const o={name:y.name(e,a),type:y.type(),default:v.Z_().nullable().matches(/^-?\d*$/),unique:y.unique(),required:y.required(),max:v.Z_().nullable().matches(/^-?\d*$/,b.I0.regex),min:v.Z_().nullable().test(wn).matches(/^-?\d*$/,b.I0.regex)};return v.Ry(o)},boolean(e,a){const o={name:y.name(e,a),default:v.O7().nullable(),required:y.required(),unique:y.unique()};return v.Ry(o)},component(e,a){const o={name:y.name(e,a),type:y.type(),required:y.required(),max:y.max(),min:y.min(),component:v.Z_().required(b.I0.required)};return v.Ry(o)},decimal(e,a){const o={name:y.name(e,a),type:y.type(),default:v.Rx(),required:y.required(),max:v.Rx(),min:v.Rx().test(wn)};return v.Ry(o)},dynamiczone(e,a){const o={name:y.name(e,a),type:y.type(),required:y.required(),max:y.max(),min:y.min()};return v.Ry(o)},email(e,a){const o={name:y.name(e,a),type:y.type(),default:v.Z_().email().nullable(),unique:y.unique(),required:y.required(),maxLength:y.maxLength(),minLength:y.minLength()};return v.Ry(o)},enumeration(e,a){const o=/^[_A-Za-z][_0-9A-Za-z]*$/,r={name:v.Z_().test(Ia(e)).test(Xn(a)).matches(o,b.I0.regex).required(b.I0.required),type:y.type(),default:y.default(),unique:y.unique(),required:y.required(),enum:v.IX().of(v.Z_()).min(1,b.I0.min).test({name:"areEnumValuesUnique",message:(0,c.Z)("error.validation.enum-duplicate"),test(i){return!Ws()(i.map(Yn).filter((l,u,m)=>m.indexOf(l)!==u)).length}}).test({name:"doesNotHaveEmptyValues",message:(0,c.Z)("error.validation.enum-empty-string"),test:i=>!i.map(Yn).some(d=>d==="")}).test({name:"doesMatchRegex",message:(0,c.Z)("error.validation.enum-regex"),test:i=>i.map(Yn).every(d=>o.test(d))}),enumName:v.Z_().nullable()};return v.Ry(r)},float(e,a){const o={name:y.name(e,a),type:y.type(),required:y.required(),default:v.Rx(),max:v.Rx(),min:v.Rx().test(wn)};return v.Ry(o)},integer(e,a){const o={name:y.name(e,a),type:y.type(),default:v.Rx().integer(),unique:y.unique(),required:y.required(),max:y.max(),min:y.min()};return v.Ry(o)},json(e,a){const o={name:y.name(e,a),type:y.type(),required:y.required(),unique:y.unique()};return v.Ry(o)},media(e,a){const o={name:y.name(e,a),type:y.type(),multiple:v.O7(),required:y.required(),allowedTypes:v.IX().of(v.Z_().oneOf(["images","videos","files","audios"])).min(1).nullable()};return v.Ry(o)},password(e,a){const o={name:y.name(e,a),type:y.type(),default:y.default(),unique:y.unique(),required:y.required(),maxLength:y.maxLength(),minLength:y.minLength()};return v.Ry(o)},relation(e,a,o,{initialData:r,modifiedData:i}){const d={name:y.name(e,a),target:v.Z_().required(b.I0.required),relation:v.Z_().required(),type:v.Z_().required(),targetAttribute:v.Vo(()=>{const l=(0,Dt.Z)(i.relation,i.targetAttribute);if(l==="oneWay"||l==="manyWay")return v.Z_().nullable();let u=v.Z_().test(Xn(a)),g=[...o.map(({name:f})=>f),i.name].filter(f=>f!==r.targetAttribute);return u.matches(La,b.I0.regex).test({name:"forbiddenTargetAttributeName",message:(0,c.Z)("error.validation.relation.targetAttribute-taken"),test(f){return f?!g.includes(f):!1}}).required(b.I0.required)})};return v.Ry(d)},richtext(e,a){const o={name:y.name(e,a),type:y.type(),default:y.default(),unique:y.unique(),required:y.required(),maxLength:y.maxLength(),minLength:y.minLength()};return v.Ry(o)},string(e,a){const o=Jn(e,a);return v.Ry(o)},text(e,a){const o=Jn(e,a);return v.Ry(o)},uid(e,a){const o=Jn(e,a);return v.Ry(o)}};const xa={name:"displayName",type:"text",intlLabel:{id:(0,c.Z)("contentType.displayName.label"),defaultMessage:"Display name"}};var ta={advanced:{default(){const e=[{intlLabel:{id:(0,c.Z)("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:(0,c.Z)("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}];return window.strapi.features.isEnabled(window.strapi.features.REVIEW_WORKFLOWS)&&e.push({intlLabel:{id:(0,c.Z)("contentType.reviewWorkflows.label"),defaultMessage:"Review Workflows"},description:{id:(0,c.Z)("contentType.reviewWorkflows.description"),defaultMessage:"Allows having content in different review stages"},name:"reviewWorkflows",type:"toggle-review-workflows",validations:{}}),{sections:[{items:e}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[xa,{description:{id:(0,c.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,c.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:(0,c.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,c.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[xa,{disabled:!0,description:{id:(0,c.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,c.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:(0,c.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,c.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:(0,c.Z)("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:(0,c.Z)("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:(0,c.Z)("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:(0,c.Z)("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},js=({usedContentTypeNames:e=[],reservedModels:a=[],singularNames:o=[],pluralNames:r=[],collectionNames:i=[]})=>{const d={displayName:v.Z_().test({name:"nameAlreadyUsed",message:b.I0.unique,test(l){if(!l)return!1;const u=(0,Ye.E)(l);return!e.includes(u)}}).test({name:"nameNotAllowed",message:(0,c.Z)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes(l?.trim()?.toLowerCase()):!1}}).required(b.I0.required),pluralName:v.Z_().test({name:"pluralNameAlreadyUsed",message:b.I0.unique,test(l){return l?!r.includes(l):!1}}).test({name:"pluralNameAlreadyUsedAsSingular",message:(0,c.Z)("error.contentType.pluralName-equals-singularName"),test(l){return l?!o.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,c.Z)("error.contentType.pluralName-used"),test(l,u){return l?u.parent.singularName!==l:!1}}).test({name:"pluralNameNotAllowed",message:(0,c.Z)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes(l?.trim()?.toLowerCase()):!1}}).test({name:"pluralNameNotAlreadyUsedInCollectionName",message:(0,c.Z)("error.contentType.pluralName-equals-collectionName"),test(l){return l?!i.includes(l?.trim()?.toLowerCase()):!1}}).required(b.I0.required),singularName:v.Z_().test({name:"singularNameAlreadyUsed",message:b.I0.unique,test(l){return l?!o.includes(l):!1}}).test({name:"singularNameAlreadyUsedAsPlural",message:(0,c.Z)("error.contentType.singularName-equals-pluralName"),test(l){return l?!r.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,c.Z)("error.contentType.singularName-used"),test(l,u){return l?u.parent.pluralName!==l:!1}}).test({name:"singularNameNotAllowed",message:(0,c.Z)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes(l?.trim()?.toLowerCase()):!1}}).required(b.I0.required),draftAndPublish:v.O7(),kind:v.Z_().oneOf(["singleType","collectionType"]),reviewWorkflows:v.O7()};return v.Ry(d)},na={advanced:{default(){return{sections:Qe.advanced("componentToCreate.")}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[Hn]},...Qe.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[Hn]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:(0,c.Z)("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},Sa=(e,a)=>{e.forEach(o=>{if(!("sectionTitle"in o)){a[0].items.push(o);return}a.push(o)})},Ua=(e,a)=>e.filter(({name:o})=>o!==a.initialData.name).map(({name:o})=>o),Ie={customField:{schema({schemaAttributes:e,attributeType:a,customFieldValidator:o,reservedNames:r,schemaData:i,ctbFormsAPI:d}){const l=Ua(e,i),u=ea[a](l,r.attributes);return d.makeCustomFieldValidator(u,o,l,r.attributes,i)},form:{base({customField:e}){const a=[{sectionTitle:null,items:[be]}];return e.options?.base&&Sa(e.options.base,a),{sections:a}},advanced({customField:e,data:a,step:o,extensions:r,...i}){const d=[{sectionTitle:null,items:[]}],l=r.getAdvancedForm(["attribute",e.type],{data:a,type:e.type,step:o,...i});if(e.options?.advanced&&Sa(e.options.advanced,d),l){const u={sectionTitle:{id:(0,c.Z)("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:l};d.push(u)}return{sections:d}}}},attribute:{schema(e,a,o,r,i,d){const l=e?.schema?.attributes??[],u=Ua(l,i);try{let m=ea[a](u,o.attributes,r,i);return d.makeValidator(["attribute",a],m,u,o.attributes,r,i)}catch(m){return console.error("Error yup build schema",m),ea.default(u,o.attributes)}},form:{advanced({data:e,type:a,step:o,extensions:r,...i}){try{const d=Aa.advanced[a](e,o).sections,l=r.getAdvancedForm(["attribute",a],{data:e,type:a,step:o,...i});return{sections:d.reduce((m,g)=>(g.sectionTitle===null?m.push(g):m.push({...g,items:[...g.items,...l]}),m),[])}}catch(d){return console.error(d),{sections:[]}}},base({data:e,type:a,step:o,attributes:r}){try{return Aa.base[a](e,o,r)}catch{return Bs}}}},contentType:{schema(e,a,o,r,i,d){const l=Object.values(d).map(E=>E.schema.singularName),u=Object.values(d).map(E=>E?.schema?.pluralName??""),m=a?e.filter(E=>E!==o):e,g=a?l.filter(E=>{const{schema:C}=d[o];return C.singularName!==E}):l,f=a?u.filter(E=>{const{schema:C}=d[o];return C.pluralName!==E}):u,p=Object.values(d).map(E=>E?.schema?.collectionName??""),Z=a?p.filter(E=>{const{schema:C}=d[o],I=C.pluralName,T=C.collectionName;return E!==I||E!==T}):p,h=js({usedContentTypeNames:m,reservedModels:r.models,singularNames:g,pluralNames:f,collectionNames:Z});return i.makeValidator(["contentType"],h,m,r.models,g,f)},form:{base({actionType:e}){return e==="create"?ta.base.create():ta.base.edit()},advanced({extensions:e}){const a=ta.advanced.default().sections.map(r=>r.items).flat(),o=e.getAdvancedForm(["contentType"]);return{sections:[{items:[...a,...o]}]}}}},component:{schema(e,a,o,r=!1,i=null){const d=r?e.filter(l=>l!==i):e;return Ss(d,o.models,a)},form:{advanced(){return{sections:Qe.advanced()}},base(){return{sections:Qe.base()}}}},addComponentToDynamicZone:{form:{advanced(){return na.advanced.default()},base({data:e}){return e?.createComponent??!1?na.base.createComponent():na.base.default()}}},editCategory:{schema(e,a){const o=e.filter(r=>r!==a.name).map(r=>r.toLowerCase());return xs(o)},form:{advanced:()=>({sections:[]}),base(){return Is.base}}}},_a=s(98178),zs=s(25061);const qs=()=>e=>e[`${z.Z}_formModal`]||zs.E;var Vs=()=>(0,_a.P1)(qs(),e=>e),ks=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:a,onNavigateToAddCompoToDZModal:o,onNavigateToCreateComponentStep2:r,actionType:i,attributeName:d,attributeType:l,customFieldUid:u,categoryName:m,dynamicZoneTarget:g,forTarget:f,modalType:p,isOpen:Z,kind:h,step:E,targetUid:C}=(0,ye.Z)(),I=(0,b.mZ)().get(u),T=(0,n.useRef)(),M=(0,n.useMemo)(Vs,[]),P=(0,fe.I0)(),K=(0,b.lm)(),V=(0,fe.v9)(F=>M(F),fe.wU),{push:J}=(0,$.k6)(),{trackUsage:ae}=(0,b.rS)(),{formatMessage:_}=(0,S.Z)(),{getPlugin:ve}=(0,b.j1)(),k=ve(z.Z).apis.forms,Te=k.components.inputs,{addAttribute:G,addCustomFieldAttribute:Xe,addCreatedComponentToDynamicZone:ne,allComponentsCategories:j,changeDynamicZoneComponents:O,contentTypes:Je,components:Lt,createSchema:we,deleteCategory:sa,deleteData:Ht,editCategory:oa,editCustomFieldAttribute:ia,submitData:ra,modifiedData:se,nestedComponents:la,setModifiedData:da,sortedContentTypesList:ca,updateSchema:ua,reservedNames:Pe}=(0,Me.Z)(),{componentToCreate:It,formErrors:De,initialData:ie,isCreatingComponentWhileAddingAField:xe,modifiedData:x}=V,A=f==="contentType"||f==="component"?[f]:[f,C];(0,n.useEffect)(()=>{if(Z){const F=ca.filter(St);p==="editCategory"&&da(),i==="edit"&&p==="attribute"&&f==="contentType"&&ae("willEditFieldOfContentType");const de=[...A,"schema","attributes"],me=zn(R()(se,de,[]),g)||null;if(p==="editCategory"&&i==="edit"&&P({type:X._H,modalType:p,actionType:i,data:{name:m}}),p==="contentType"&&i==="create"&&P({type:X._H,modalType:p,actionType:i,data:{draftAndPublish:!0,reviewWorkflows:!1},pluginOptions:{}}),p==="contentType"&&i==="edit"){const{displayName:W,draftAndPublish:w,kind:pe,pluginOptions:oe,pluralName:Go,reviewWorkflows:Ho,singularName:Yo}=R()(se,[...A,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});P({type:X._H,actionType:i,modalType:p,data:{displayName:W,draftAndPublish:w,kind:pe,pluginOptions:oe,pluralName:Go,reviewWorkflows:Ho??!1,singularName:Yo}})}if(p==="component"&&i==="edit"){const W=R()(se,A,{});P({type:X._H,actionType:i,modalType:p,data:{displayName:W.schema.displayName,category:W.category,icon:W.schema.icon}})}if(p==="addComponentToDynamicZone"&&i==="edit"){const W={...me,components:[],name:g,createComponent:!1,componentToCreate:{type:"component"}};P({type:X.VZ,attributeToEdit:W})}if(l){const w={...zn(R()(se,de,[]),d),name:d};l==="component"&&i==="edit"&&(w.repeatable||Ke()(w,"repeatable",!1)),P(p==="customField"?{type:X.OY,customField:I,isEditing:i==="edit",modifiedDataToSetForEditing:w,forTarget:f}:{type:X.S0,attributeType:l,nameToSetForRelation:R()(F,["0","title"],"error"),targetUid:R()(F,["0","uid"],"error"),isEditing:i==="edit",modifiedDataToSetForEditing:w,step:E,forTarget:f})}}else P({type:X.c2})},[i,d,l,m,g,f,Z,p]);const L=p==="contentType",B=p==="component",Q=p==="attribute",re=p==="customField",le=l==="component"&&Q,ce=i==="create",Ce=R()(x,"createComponent",!1)||xe,et=E==="1",Ya=p==="editCategory",Qa=p==="chooseAttribute",ma=(0,Ye.E)(x.displayName||""),pa=R()(se,[...A,"schema","attributes"],null),So=async()=>{let F;const de=Ce&&E==="1"?R()(x,"componentToCreate",{}):x;if(L)F=Ie.contentType.schema(Object.keys(Je),i==="edit",R()(se,[...A,"uid"],null),Pe,k,Je);else if(B)F=Ie.component.schema(Object.keys(Lt),x.category||"",Pe,i==="edit",R()(se,[...A,"uid"],null),k);else if(re)F=Ie.customField.schema({schemaAttributes:R()(se,[...A,"schema","attributes"],[]),attributeType:I.type,reservedNames:Pe,schemaData:{modifiedData:x,initialData:ie},ctbFormsAPI:k,customFieldValidator:I.options?.validator});else if(le&&Ce&&et)F=Ie.component.schema(Object.keys(Lt),R()(x,"componentToCreate.category",""),Pe,k);else if(Q&&!et){const me=l==="relation"?"relation":x.type;let W=[];if(me==="relation"){const w=R()(x,["target"],null);W=R()(Je,[w,"schema","attributes"],[]).filter(({name:oe})=>i!=="edit"?!0:oe!==ie.targetAttribute)}F=Ie.attribute.schema(R()(se,A,{}),me,Pe,W,{modifiedData:x,initialData:ie},k)}else if(Ya)F=Ie.editCategory.schema(j,ie,k);else if(et&&Ce)F=Ie.component.schema(Object.keys(Lt),R()(x,"componentToCreate.category",""),Pe,k);else return;await F.validate(de,{abortEarly:!1})},Xa=(0,n.useCallback)(({target:{name:F,value:de,type:me,...W}})=>{const w=["enumName","max","min","maxLength","minLength","regex","default"];let pe;w.includes(F)&&de===""?pe=null:pe=de;const oe=Object.assign({},De);F==="max"&&delete oe.min,F==="maxLength"&&delete oe.minLength,delete oe[F],P({type:X.Ey,errors:oe}),P({type:X.P0,keys:F.split("."),value:pe,...W})},[P,De]),ue=async(F,de=ce)=>{F.preventDefault();try{await So(),Bo(de);const me=f==="components"?C:ma;if(L)if(ce)we({...x,kind:h},p,ma),J({pathname:`/plugins/${z.Z}/content-types/${ma}`}),a({forTarget:f,targetUid:me});else{As(se,x)?(e(),ra(x)):K({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(p==="component")if(ce){const W=(0,Ye.N)(x.displayName,x.category),{category:w,...pe}=x;we(pe,"component",W,w),J({pathname:`/plugins/${z.Z}/component-categories/${w}/${W}`}),a({forTarget:f,targetUid:W})}else{ua(x,p,C),e();return}else if(Ya){if(qe()(ie.name)===qe()(x.name)){e();return}oa(ie.name,x);return}else if(re){const W={attributeToSet:{...x,customField:u},forTarget:f,targetUid:C,initialAttribute:ie};i==="edit"?ia(W):Xe(W),de?a({forTarget:f,targetUid:me}):e();return}else if(Q&&!Ce){if(l==="dynamiczone"){G(x,f,C,i==="edit",ie),ce?(P({type:X.I}),T.current._handlers.setSelectedTabIndex(0),o({dynamicZoneTarget:x.name})):e();return}if(!le){G(x,f,C,i==="edit",ie),de?a({forTarget:f,targetUid:me}):e();return}if(et){r(),P({type:X.yC,forTarget:f});return}G(x,f,C,i==="edit",ie,!0),de?a({forTarget:f,targetUid:C}):e()}else if(Q&&Ce){if(et){ae("willCreateComponentFromAttributesModal"),P({type:X.oF,forTarget:f}),r();return}const{category:W,type:w,...pe}=It,oe=(0,Ye.N)(It.displayName,W);we(pe,w,oe,W,Ce),G(x,f,C,!1),P({type:X.c2}),de?a({forTarget:"components",targetUid:oe}):e();return}else{if(et)if(Ce){const{category:W,type:w,...pe}=x.componentToCreate,oe=(0,Ye.N)(x.componentToCreate.displayName,W);we(pe,w,oe,W,Ce),ne(g,[oe]),a({forTarget:"components",targetUid:oe})}else O(g,x.components),e();else console.error("This case is not handled");return}P({type:X.c2})}catch(me){const W=(0,b.CJ)(me);console.log({err:me,errors:W}),P({type:X.Ey,errors:W})}},Uo=()=>{window.confirm(_({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),P({type:X.c2}))},Ja=()=>{dt()(x,ie)?(e(),P({type:X.c2})):Uo()},_o=F=>{if(F==="advanced"){if(L){ae("didSelectContentTypeSettings");return}f==="contentType"&&ae("didSelectContentTypeFieldSettings")}},Bo=F=>{p==="attribute"&&f==="contentType"&&l!=="dynamiczone"&&F&&ae("willAddMoreFieldToContentType")},Fo=()=>!!(p==="editCategory"||p==="component"||je()(x,"createComponent")),Wo=Ls(f,C,la);if(!Z||!p)return null;const wa=R()(Ie,[p,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),No=f==="components"||f==="component",es={customInputs:{"allowed-types-select":wt,"boolean-radio-group":Tn,"checkbox-with-number-field":Rn,"icon-picker":_n,"content-type-radio-group":Zn,"radio-group":Rt,relation:Es,"select-category":bs,"select-component":Ts,"select-components":Cs,"select-default-boolean":Mn,"select-number":Zs,"select-date":Rs,"toggle-draft-publish":gn,"toggle-review-workflows":fn,"text-plural":vs,"text-singular":Os,"textarea-enum":Ds,...Te},componentToCreate:It,dynamicZoneTarget:g,formErrors:De,isAddingAComponentToAnotherComponent:No,isCreatingComponentWhileAddingAField:xe,mainBoxHeader:R()(se,[...A,"schema","displayName"],""),modifiedData:x,naturePickerType:f,isCreating:ce,targetUid:C,forTarget:f},ts=wa.advanced({data:x,type:l,step:E,actionType:i,attributes:pa,extensions:k,forTarget:f,contentTypeSchema:se.contentType||{},customField:I}).sections,ns=wa.base({data:x,type:l,step:E,actionType:i,attributes:pa,extensions:k,forTarget:f,contentTypeSchema:se.contentType||{},customField:I}).sections,Ko=Pa(ns),$o=Pa(ts),jo=Object.keys(De).some(F=>Ko.includes(F)),zo=Object.keys(De).some(F=>$o.includes(F)),qo=R()(Je,[C,"schema","kind"]),Vo=()=>i==="edit"&&pa.every(({name:F})=>F!==x?.name),ko=()=>{Vo()&&ae("didEditFieldNameOnContentType")};return n.createElement(rt.P,{onClose:Ja,labelledBy:"title"},n.createElement(yn,{actionType:i,attributeName:d,categoryName:m,contentTypeKind:h,dynamicZoneTarget:g,modalType:p,forTarget:f,targetUid:C,attributeType:l,customFieldUid:u}),Qa&&n.createElement(pn,{attributes:Wo,forTarget:f,kind:qo||"collectionType"}),!Qa&&n.createElement("form",{onSubmit:ue},n.createElement(Be.f,null,n.createElement(Fe.v,{label:"todo",id:"tabs",variant:"simple",ref:T,onTabChange:F=>{F===1&&_o("advanced")}},n.createElement(U.k,{justifyContent:"space-between"},n.createElement(hn,{actionType:i,forTarget:f,kind:h,step:E,modalType:p,attributeType:l,attributeName:d,customField:I}),n.createElement(Ae.m,null,n.createElement(Ae.O,{hasError:jo},_({id:(0,c.Z)("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})),n.createElement(Ae.O,{hasError:zo,disabled:Fo()},_({id:(0,c.Z)("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})))),n.createElement(lt.i,null),n.createElement(N.x,{paddingTop:6},n.createElement(Le.n,null,n.createElement(Le.x,null,n.createElement(U.k,{direction:"column",alignItems:"stretch",gap:6},n.createElement(Oa,{form:ns,formErrors:De,genericInputProps:es,modifiedData:x,onChange:Xa}))),n.createElement(Le.x,null,n.createElement(U.k,{direction:"column",alignItems:"stretch",gap:6},n.createElement(Oa,{form:ts,formErrors:De,genericInputProps:es,modifiedData:x,onChange:Xa}))))))),n.createElement(Yt.m,{endActions:n.createElement(En,{deleteCategory:sa,deleteContentType:Ht,deleteComponent:Ht,categoryName:ie.name,isAttributeModal:p==="attribute",isCustomFieldModal:p==="customField",isComponentToDzModal:p==="addComponentToDynamicZone",isComponentAttribute:l==="component",isComponentModal:p==="component",isContentTypeModal:p==="contentType",isCreatingComponent:i==="create",isCreatingDz:i==="create",isCreatingComponentAttribute:x.createComponent||!1,isCreatingComponentInDz:x.createComponent||!1,isCreatingComponentWhileAddingAField:xe,isCreatingContentType:i==="create",isEditingAttribute:i==="edit",isDzAttribute:l==="dynamiczone",isEditingCategory:p==="editCategory",isInFirstComponentStep:E==="1",onSubmitAddComponentAttribute:ue,onSubmitAddComponentToDz:ue,onSubmitCreateComponent:ue,onSubmitCreateContentType:ue,onSubmitCreateDz:ue,onSubmitEditAttribute:ue,onSubmitEditCategory:ue,onSubmitEditComponent:ue,onSubmitEditContentType:ue,onSubmitEditCustomFieldAttribute:ue,onSubmitEditDz:ue,onClickFinish:ko}),startActions:n.createElement(H.z,{variant:"tertiary",onClick:Ja},_({id:"app.components.Button.cancel",defaultMessage:"Cancel"}))})))},Ba=e=>e.reduce((a,o)=>(a[o.uid]=o,a),{}),Gs=(e,a,o,r)=>{const i=a.reduce((u,m)=>{const g=R()(o,m,{});return u[m]=g,u},{});return{[r?"contentType":"component"]:e,components:i}},Hs=(e,a)=>{const o=Object.keys(e).map(r=>R()(e,[r,...a],""));return(0,he.Z)(o)},Ys=s(13339);const Qs=e=>{const a=Object.keys(e).reduce((o,r)=>{const i=e?.[r]?.schema?.attributes??[],d=Xs(i);return[...o,...d]},[]);return(0,he.Z)(a)},Xs=e=>e.reduce((a,o)=>{const{type:r,component:i}=o;return r==="component"&&a.push(i),a},[]);var Fa=Qs;const Js=e=>{const a=Object.keys(e).reduce((o,r)=>{const i=R()(e,[r],{}),d=i.uid;return ws(i)&&o.push(d),o},[]);return(0,he.Z)(a)},ws=e=>R()(e,["schema","attributes"],[]).some(o=>{const{type:r}=o;return r==="component"});var eo=s(9086),Wa=s.n(eo),to=s(98978),no=s.n(to),ao=s(39935),so=s.n(ao);const oo=(e,a)=>{const o=Object.keys(e).filter(r=>{const i=R()(e,r,{}),d=R()(a,r,{}),l=R()(i,["isTemporary"],!1),u=!dt()(i,d);return l||u});return(0,he.Z)(o)},io=(e,a)=>{const o=Ka(R()(e,"schema.attributes",[]),a),r=R()(e,"isTemporary",!1)?{tmpUID:e.uid}:{uid:e.uid};return Object.assign({},r,{category:e.category},Wa()(e.schema,"attributes"),{attributes:o})},Na=(e,a=!1)=>{const o=R()(e,"uid",null),r=Ka(R()(e,"schema.attributes",[]),o),i=a?{category:R()(e,"category","")}:{},d=Object.assign(i,Wa()(e.schema,"attributes"),{attributes:r});return delete d.uid,delete d.isTemporary,delete d.visible,delete d.restrictRelationsTo,d},Ka=(e,a)=>e.reduce((o,{name:r,...i})=>{const d=i,l=d.target===a,u=d.type==="relation",m=R()(d,"targetAttribute",null);if(!l)if(u){const g=Object.assign({},d,{targetAttribute:$a(m)});o[r]=Gt(g)}else o[r]=Gt(d);if(l){const g=d.target,f=Object.assign({},d,{target:g,targetAttribute:$a(m)});o[r]=Gt(f)}if(d.customField){const g={...d,type:"customField"};o[r]=Gt(g)}return o},{}),$a=e=>e==="-"?null:e,Gt=e=>Object.keys(e).reduce((a,o)=>(e[o]!==null&&o!=="plugin"&&(a[o]=e[o]),a),{}),ro=(e,a,o,r=!1)=>oo(e,a).map(l=>{const u=R()(e,l,{});return io(u,o,r)}),lo=e=>no()(Object.keys(e).map(a=>({visible:e[a].schema.visible,name:a,title:e[a].schema.displayName,plugin:e[a].plugin||null,uid:a,to:`/plugins/${z.Z}/content-types/${a}`,kind:e[a].schema.kind,restrictRelationsTo:e[a].schema.restrictRelationsTo})).filter(a=>a!==null),a=>so()(a.title)),ja="did-not-kill-server",co="server is down";function At(e,a){return new Promise(o=>{fetch(`${window.strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(r=>{if(r.status>=400)throw new Error(co);if(!a)throw new Error(ja);o(e)}).catch(r=>{setTimeout(()=>At(e,r.message!==ja).then(o),100)})})}var uo=e=>Object.values(e.attributes).filter(({type:o})=>o==="dynamiczone").every(({components:o})=>Array.isArray(o)&&o.length>0),te=s(31947),mo=s(54370);const po=()=>e=>e[`${z.Z}_dataManagerProvider`]||mo.E;var go=()=>(0,_a.P1)(po(),e=>e);const fo=e=>Object.keys(e).reduce((a,o)=>{const r=e[o].schema;return a[o]={...e[o],schema:{...r,attributes:yo(r.attributes)}},a},{}),yo=e=>Object.keys(e).reduce((a,o)=>(a.push({...e[o],name:o}),a),[]);var za=fo;const aa=({children:e,components:a,contentTypes:o,isLoading:r,isLoadingForDataToBeSet:i,initialData:d,modifiedData:l,reservedNames:u})=>{const m=(0,fe.I0)(),g=(0,b.lm)(),{lockAppWithAutoreload:f,unlockAppWithAutoreload:p}=(0,b.Vu)(),{setCurrentStep:Z}=(0,b.c1)(),{getPlugin:h}=(0,b.j1)(),{apis:E}=h(z.Z),{autoReload:C}=(0,b.L7)(),{formatMessage:I}=(0,S.Z)(),{trackUsage:T}=(0,b.rS)(),{refetchPermissions:M}=(0,b.vn)(),{pathname:P}=(0,$.TH)(),{onCloseModal:K}=(0,ye.Z)(),V=(0,$.$B)(`/plugins/${z.Z}/content-types/:uid`),J=(0,$.$B)(`/plugins/${z.Z}/component-categories/:categoryUid/:componentUid`),ae=(0,b.kY)(),{put:_,post:ve,del:Y}=ae,k=(0,n.useRef)();k.current=I;const Te=C,G=V!==null,Xe=G?"contentType":"component",ne=G?R()(V,"params.uid",null):R()(J,"params.componentUid",null),j=(0,n.useRef)(),O=G?"content-types":"components";j.current=async()=>{try{const[{data:{data:A}},{data:{data:L}},{data:B}]=await Promise.all(["components","content-types","reserved-names"].map(Ce=>ae.get(`/${z.Z}/${Ce}`))),Q=Ba(A),re=za(Q),le=Ba(L),ce=za(le);m({type:te.Id,components:re,contentTypes:ce,reservedNames:B})}catch(A){console.error({err:A}),g({type:"warning",message:{id:"notification.error"}})}},(0,n.useEffect)(()=>(j.current(),()=>{m({type:te.Zl})}),[]),(0,n.useEffect)(()=>{!r&&ne&&Pe()},[r,P,ne]),(0,n.useEffect)(()=>{C||g({type:"info",message:{id:(0,c.Z)("notification.info.autoreaload-disable")}})},[C,g]);const Je=(A,L,B,Q=!1,re,le=!1)=>{const ce=Q?te.JO:te.gz;m({type:ce,attributeToSet:A,forTarget:L,targetUid:B,initialAttribute:re,shouldAddComponentToData:le})},Lt=({attributeToSet:A,forTarget:L,targetUid:B,initialAttribute:Q})=>{m({type:te.Ir,attributeToSet:A,forTarget:L,targetUid:B,initialAttribute:Q})},we=({attributeToSet:A,forTarget:L,targetUid:B,initialAttribute:Q})=>{m({type:te.Ly,attributeToSet:A,forTarget:L,targetUid:B,initialAttribute:Q})},sa=(A,L)=>{m({type:te.Uu,dynamicZoneTarget:A,componentsToAdd:L})},Ht=(A,L,B,Q,re=!1)=>{const le=L==="contentType"?te.Sh:te.VR;m({type:le,data:A,componentCategory:Q,schemaType:L,uid:B,shouldAddComponentToData:re})},oa=(A,L)=>{m({type:te.o_,dynamicZoneTarget:A,newComponents:L})},ia=(A,L,B="")=>{const Q=A==="components"?te.lw:te.ai;A==="contentType"&&T("willDeleteFieldOfContentType"),m({type:Q,mainDataKey:A,attributeToRemoveName:L,componentUid:B})},ra=async A=>{try{const L=`/${z.Z}/component-categories/${A}`,B=window.confirm(I({id:(0,c.Z)("popUpWarning.bodyMessage.category.delete")}));K(),B&&(f(),await Y(L),await At(!0),await p(),await xe())}catch(L){console.error({err:L}),g({type:"warning",message:{id:"notification.error"}})}finally{p()}},se=async()=>{try{const A=`/${z.Z}/${O}/${ne}`,L=R()(l,[Xe,"isTemporary"],!1),B=window.confirm(I({id:(0,c.Z)(`popUpWarning.bodyMessage.${G?"contentType":"component"}.delete`)}));if(K(),B){if(L){m({type:te.Ap});return}f(),await Y(A),await At(!0),await p(),await xe()}}catch(A){console.error({err:A}),g({type:"warning",message:{id:"notification.error"}})}finally{p()}},la=async(A,L)=>{try{const B=`/${z.Z}/component-categories/${A}`;K(),f(),await _(B,L),await At(!0),await p(),await xe()}catch(B){console.error({err:B}),g({type:"warning",message:{id:"notification.error"}})}finally{p()}},da=()=>{const A=Object.assign({},a,l.components);if(!G){const B=R()(l,"component",{});Ke()(A,R()(B,["uid"],""),B)}const L=Js(A);return(0,he.Z)(L)},ca=()=>{const A=Fa(a),L=Fa(l.components||{});return(0,he.Z)([...L,...A])},ua=(A,L)=>{m({type:te.NG,dzName:A,componentToRemoveIndex:L})},Pe=()=>{const A=G?o:a,L=R()(A,ne,{schema:{attributes:[]}}),B=(0,Ys.Z)(L.schema.attributes,a),Q=Gs(L,B,a,G),re=R()(L,"isTemporary",!1)&&ot()(R()(L,"schema.attributes",[]))===0;m({type:te.xx,schemaToSet:Q,hasJustCreatedSchema:re})},It=(0,n.useMemo)(()=>{const A=G?o:a;return ne==="create-content-type"?!1:!Object.keys(A).includes(ne)&&!r},[a,o,ne,G,r]),De=(0,n.useMemo)(()=>{const A=Object.keys(o).filter(L=>R()(o,[L,"schema","visible"],!0)).sort();return R()(A,"0","create-content-type")},[o]);if(It)return n.createElement($.l_,{to:`/plugins/${z.Z}/content-types/${De}`});const ie=async A=>{try{const L=R()(l,[Xe,"isTemporary"],!1),B={components:ro(l.components,a,ne,L)};if(G){const le=E.forms.mutateContentTypeSchema({...Na(l.contentType),...A},d.contentType);if(!uo(le)){g({type:"warning",message:{id:(0,c.Z)("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}B.contentType=le,T("willSaveContentType")}else B.component=Na(l.component,!0),T("willSaveComponent");f();const Q=`/${z.Z}/${O}`,re=L?Q:`${Q}/${ne}`;if(L?await ve(re,B):await _(re,B),await At(!0),await p(),L&&(d.contentType?.schema.kind==="collectionType"||d.contentType?.schema.kind==="singleType")&&Z("contentTypeBuilder.success"),G){T("didSaveContentType");const le=R()(B,["contentType","schema","name"],""),ce=R()(d,["contentType","schema","name"],"");!L&&le!==ce&&T("didEditNameOfContentType")}else T("didSaveComponent");await xe()}catch(L){G||T("didNotSaveComponent"),console.error({err:L.response}),g({type:"warning",message:{id:"notification.error"}})}finally{p()}},xe=async()=>{await M()},x=(A,L,B)=>{m({type:te.bi,data:A,schemaType:L,uid:B})};return n.createElement(it.Z.Provider,{value:{addAttribute:Je,addCustomFieldAttribute:Lt,addCreatedComponentToDynamicZone:sa,allComponentsCategories:Hs(a,["category"]),changeDynamicZoneComponents:oa,components:a,componentsGroupedByCategory:Ue()(a,"category"),componentsThatHaveOtherComponentInTheirAttributes:da(),contentTypes:o,createSchema:Ht,deleteCategory:ra,deleteData:se,editCategory:la,editCustomFieldAttribute:we,isInDevelopmentMode:Te,initialData:d,isInContentTypeView:G,modifiedData:l,nestedComponents:ca(),removeAttribute:ia,removeComponentFromDynamicZone:ua,reservedNames:u,setModifiedData:Pe,sortedContentTypesList:lo(o),submitData:ie,updateSchema:x}},i?n.createElement(b.dO,null):n.createElement(n.Fragment,null,e,Te&&n.createElement(ks,null)))};aa.defaultProps={components:{}},aa.propTypes={children:t().node.isRequired,components:t().object,contentTypes:t().object.isRequired,isLoading:t().bool.isRequired,isLoadingForDataToBeSet:t().bool.isRequired,initialData:t().object.isRequired,modifiedData:t().object.isRequired,reservedNames:t().object.isRequired};const Eo=go(),vo=(0,fe.$j)(Eo,null);var ho=(0,$e.compose)(vo)((0,n.memo)(aa)),Mo=s(51216);const qa={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,kind:null,step:null,targetUid:null,customFieldUid:null},Va=({children:e})=>{const[a,o]=(0,n.useState)(qa),{trackUsage:r}=(0,b.rS)(),i=({attributeType:T,customFieldUid:M})=>{o(P=>({...P,actionType:"create",modalType:"customField",attributeType:T,customFieldUid:M}))},d=({attributeType:T,step:M})=>{a.forTarget==="contentType"&&r("didSelectContentTypeFieldType",{type:T}),o(P=>({...P,actionType:"create",modalType:"attribute",step:M,attributeType:T}))},l=({dynamicZoneTarget:T,targetUid:M})=>{o(P=>({...P,dynamicZoneTarget:T,targetUid:M,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},u=({forTarget:T,targetUid:M})=>{o(P=>({...P,actionType:"create",forTarget:T,targetUid:M,modalType:"chooseAttribute",isOpen:!0}))},m=T=>{o(M=>({...M,...T,isOpen:!0}))},g=T=>{o(M=>({...M,categoryName:T,actionType:"edit",modalType:"editCategory",isOpen:!0}))},f=({forTarget:T,targetUid:M,attributeName:P,attributeType:K,customFieldUid:V})=>{o(J=>({...J,modalType:"customField",customFieldUid:V,actionType:"edit",forTarget:T,targetUid:M,attributeName:P,attributeType:K,isOpen:!0}))},p=({forTarget:T,targetUid:M,attributeName:P,attributeType:K,step:V})=>{o(J=>({...J,modalType:"attribute",actionType:"edit",forTarget:T,targetUid:M,attributeName:P,attributeType:K,step:V,isOpen:!0}))},Z=({modalType:T,forTarget:M,targetUid:P,kind:K})=>{o(V=>({...V,modalType:T,actionType:"edit",forTarget:M,targetUid:P,kind:K,isOpen:!0}))},h=()=>{o(qa)},E=({forTarget:T,targetUid:M})=>{o(P=>({...P,forTarget:T,targetUid:M,modalType:"chooseAttribute"}))},C=()=>{o(T=>({...T,attributeType:"component",modalType:"attribute",step:"2"}))},I=({dynamicZoneTarget:T})=>{o(M=>({...M,dynamicZoneTarget:T,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return n.createElement(Mo.Z.Provider,{value:{...a,onClickSelectField:d,onClickSelectCustomField:i,onCloseModal:h,onNavigateToChooseAttributeModal:E,onNavigateToAddCompoToDZModal:I,onOpenModalAddComponentsToDZ:l,onNavigateToCreateComponentStep2:C,onOpenModalAddField:u,onOpenModalCreateSchema:m,onOpenModalEditCategory:g,onOpenModalEditField:p,onOpenModalEditCustomField:f,onOpenModalEditSchema:Z,setFormModalNavigationState:o}},e)};Va.propTypes={children:t().node.isRequired};var bo=Va;const To=(0,n.lazy)(()=>s.e(5905).then(s.bind(s,84015)));var Co=()=>{const{url:e}=(0,$.$B)(),{categoryUid:a}=(0,$.UO)();return n.createElement(n.Suspense,{fallback:n.createElement(b.dO,null)},n.createElement($.rs,null,n.createElement($.AW,{path:`${e}/:componentUid`},n.createElement(To,{categoryId:a}))))},ka=s(14911),Ro=s(7563),Zo=s(90700),Oo=s(78090),Po=s(77013),Do=s(79318),Ao=s(28832),Ga=s(66618),Lo=()=>{const{components:e,componentsGroupedByCategory:a,contentTypes:o,isInDevelopmentMode:r,sortedContentTypesList:i,modifiedData:d,initialData:l}=(0,Me.Z)(),u=(0,b.lm)(),{trackUsage:m}=(0,b.rS)(),[g,f]=(0,n.useState)(""),{onOpenModalCreateSchema:p,onOpenModalEditCategory:Z}=(0,ye.Z)(),{locale:h}=(0,S.Z)(),{startsWith:E}=(0,b.L0)(h,{sensitivity:"base"}),C=(0,b.Xe)(h,{sensitivity:"base"}),I=!Object.keys(o).some(_=>o[_].isTemporary===!0)&&!Object.keys(e).some(_=>e[_].isTemporary===!0)&&dt()(d,l),T=()=>{I?(m("willCreateContentType"),p({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):K()},M=()=>{I?(m("willCreateSingleType"),p({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):K()},P=()=>{I?(m("willCreateComponent"),p({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):K()},K=()=>{u({type:"info",message:{id:(0,c.Z)("notification.info.creating.notSaved"),defaultMessage:"Please save your work before creating a new collection type or component"}})},V=Object.entries(a).map(([_,ve])=>({name:_,title:_,isEditable:r,onClickEdit(Y,k){Y.stopPropagation(),I?Z(k.name):K()},links:ve.map(Y=>({name:Y.uid,to:`/plugins/${z.Z}/component-categories/${_}/${Y.uid}`,title:Y.schema.displayName})).sort((Y,k)=>C.compare(Y.title,k.title))})).sort((_,ve)=>C.compare(_.title,ve.title)),J=i.filter(_=>_.visible);return{menu:[{name:"models",title:{id:`${(0,c.Z)("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:r&&{id:`${(0,c.Z)("button.model.create")}`,defaultMessage:"Create new collection type",onClick:T},links:J.filter(_=>_.kind==="collectionType")},{name:"singleTypes",title:{id:`${(0,c.Z)("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:r&&{id:`${(0,c.Z)("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:M},links:J.filter(_=>_.kind==="singleType")},{name:"components",title:{id:`${(0,c.Z)("menu.section.components.name")}`,defaultMessage:"Components"},customLink:r&&{id:`${(0,c.Z)("button.component.create")}`,defaultMessage:"Create a new component",onClick:P},links:V}].map(_=>_.links.some(Y=>Array.isArray(Y.links))?{..._,links:_.links.map(Y=>{const k=Y.links.filter(Te=>E(Te.title,g));return k.length===0?null:{...Y,links:k.sort((Te,G)=>C.compare(Te.title,G.title))}}).filter(Boolean)}:{..._,links:_.links.filter(Y=>E(Y.title,g)).sort((Y,k)=>C.compare(Y.title,k.title))}),searchValue:g,onSearchChange:f}},Io=()=>{const{menu:e,searchValue:a,onSearchChange:o}=Lo(),{formatMessage:r}=(0,S.Z)();return n.createElement(Zo.m,{ariaLabel:r({id:`${(0,c.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"})},n.createElement(Oo.p,{searchable:!0,value:a,onClear:()=>o(""),onChange:i=>o(i.target.value),label:r({id:`${(0,c.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:r({id:"global.search",defaultMessage:"Search"})}),n.createElement(Po.Z,null,e.map(i=>n.createElement(n.Fragment,{key:i.name},n.createElement(Do.D,{label:r({id:i.title.id,defaultMessage:i.title.defaultMessage}),collapsable:!0,badgeLabel:i.links.length.toString()},i.links.map(d=>d.links?n.createElement(Ao.z,{key:d.name,label:Ee()(d.title)},d.links.map(l=>n.createElement(Ga.E,{as:ka.OL,to:l.to,active:l.active,key:l.name,isSubSectionChild:!0},Ee()(r({id:l.name,defaultMessage:l.title}))))):n.createElement(Ga.E,{as:ka.OL,to:d.to,active:d.active,key:d.name},Ee()(r({id:d.name,defaultMessage:d.title}))))),i.customLink&&n.createElement(N.x,{paddingLeft:7},n.createElement(Ro.A,{onClick:i.customLink.onClick,startIcon:n.createElement(gt.J,{as:Oe.Z,width:(0,b.Q1)(8),height:(0,b.Q1)(8)}),marginTop:2},r({id:i.customLink.id,defaultMessage:i.customLink.defaultMessage})))))))};const Ha=(0,n.lazy)(()=>s.e(5905).then(s.bind(s,84015)));var xo=()=>{const{formatMessage:e}=(0,S.Z)(),a=e({id:`${z.Z}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:o}=(0,b.c1)(),r=(0,n.useRef)(o);return(0,n.useEffect)(()=>{r.current&&r.current("contentTypeBuilder")},[]),n.createElement(b.O4,{permissions:tt.Z.main},n.createElement(ge.q,{title:a}),n.createElement(bo,null,n.createElement(ho,null,n.createElement(Re.A,{sideNav:n.createElement(Io,null)},n.createElement(n.Suspense,{fallback:n.createElement(b.dO,null)},n.createElement($.rs,null,n.createElement($.AW,{path:`/plugins/${z.Z}/content-types/create-content-type`,component:Ha}),n.createElement($.AW,{path:`/plugins/${z.Z}/content-types/:uid`,component:Ha}),n.createElement($.AW,{path:`/plugins/${z.Z}/component-categories/:categoryUid`,component:Co})))))))}},92318:function(Se,ee,s){var n=s(25158);const $=ge=>`${n.Z}.${ge}`;ee.Z=$}}]);
