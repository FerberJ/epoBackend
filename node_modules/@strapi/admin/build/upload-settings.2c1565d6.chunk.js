"use strict";(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[695],{67963:function(T,f,t){t.r(f),t.d(f,{SettingsPage:function(){return R},default:function(){return H}});var e=t(32735),s=t(74758),h=t(67879),c=t(69262),E=t(66456),x=t(27649),o=t(82055),v=t(41415),b=t(17e3),P=t(96709),M=t(87933),j=t(72850),n=t(49372),l=t(15335),r=t(5803),i=t(9139),u=t(84306),g=t(89793),y=t.n(g),d=t(15503),L=a=>a,k=t(97889),N=t(3040),Z=t.n(N);const W={isLoading:!0,isSubmiting:!1,initialData:{responsiveDimensions:!0,sizeOptimization:!0,autoOrientation:!1,videoPreview:!1},modifiedData:{responsiveDimensions:!0,sizeOptimization:!0,autoOrientation:!1,videoPreview:!1}};var K=(a,O)=>(0,k.ZP)(a,m=>{switch(O.type){case"CANCEL_CHANGES":{m.modifiedData=a.initialData;break}case"GET_DATA_SUCCEEDED":{m.isLoading=!1,m.initialData=O.data,m.modifiedData=O.data;break}case"ON_CHANGE":{Z()(m,["modifiedData",...O.keys.split(".")],O.value);break}case"ON_SUBMIT":{m.isSubmiting=!0;break}case"SUBMIT_SUCCEEDED":{m.initialData=a.modifiedData,m.isSubmiting=!1;break}case"ON_SUBMIT_ERROR":{m.isSubmiting=!1;break}default:return a}}),G=t(93826);const R=()=>{const{formatMessage:a}=(0,h.Z)(),{lockApp:O,unlockApp:m}=(0,c.o1)(),F=(0,c.lm)(),{get:$,put:X}=(0,c.kY)();(0,c.go)();const[{initialData:Y,isLoading:J,isSubmiting:Q,modifiedData:C},B]=(0,e.useReducer)(K,W,L),z=(0,e.useRef)(!0);(0,e.useEffect)(()=>{const D=u.default.CancelToken.source(),w=async()=>{try{const{data:{data:A}}=await $((0,d.IF)("settings"),{cancelToken:D.token});B({type:"GET_DATA_SUCCEEDED",data:A})}catch(A){console.error(A)}};return z.current&&w(),()=>{D.cancel("Operation canceled by the user."),z.current=!1}},[]);const U=y()(Y,C),V=async p=>{if(p.preventDefault(),!U){O(),B({type:"ON_SUBMIT"});try{await X((0,d.IF)("settings"),C),B({type:"SUBMIT_SUCCEEDED"}),F({type:"success",message:{id:"notification.form.success.fields"}})}catch(D){console.error(D),B({type:"ON_SUBMIT_ERROR"})}m()}},S=({target:{name:p,value:D}})=>{B({type:"ON_CHANGE",keys:p,value:D})};return e.createElement(x.o,{tabIndex:-1},e.createElement(s.q,{title:a({id:(0,d.OB)("page.title"),defaultMessage:"Settings - Media Libray"})}),e.createElement("form",{onSubmit:V},e.createElement(o.T,{title:a({id:(0,d.OB)("settings.header.label"),defaultMessage:"Media Library"}),primaryAction:e.createElement(v.z,{disabled:U,"data-testid":"save-button",loading:Q,type:"submit",startIcon:e.createElement(E.Z,null),size:"S"},a({id:"global.save",defaultMessage:"Save"})),subtitle:a({id:(0,d.OB)("settings.sub-header.label"),defaultMessage:"Configure the settings for the Media Library"})}),e.createElement(b.D,null,J?e.createElement(c.dO,null):e.createElement(P.A,null,e.createElement(M.k,{direction:"column",alignItems:"stretch",gap:12},e.createElement(j.x,{background:"neutral0",padding:6,shadow:"filterShadow",hasRadius:!0},e.createElement(M.k,{direction:"column",alignItems:"stretch",gap:4},e.createElement(M.k,null,e.createElement(n.Z,{variant:"delta",as:"h2"},a({id:(0,d.OB)("settings.blockTitle"),defaultMessage:"Asset management"}))),e.createElement(l.r,{gap:6},e.createElement(r.P,{col:6,s:12},e.createElement(i.s,{"aria-label":"responsiveDimensions","data-testid":"responsiveDimensions",checked:C.responsiveDimensions,hint:a({id:(0,d.OB)("settings.form.responsiveDimensions.description"),defaultMessage:"Enabling this option will generate multiple formats (small, medium and large) of the uploaded asset."}),label:a({id:(0,d.OB)("settings.form.responsiveDimensions.label"),defaultMessage:"Responsive friendly upload"}),name:"responsiveDimensions",offLabel:a({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"Off"}),onLabel:a({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"On"}),onChange:p=>{S({target:{name:"responsiveDimensions",value:p.target.checked}})}})),e.createElement(r.P,{col:6,s:12},e.createElement(i.s,{"aria-label":"sizeOptimization","data-testid":"sizeOptimization",checked:C.sizeOptimization,hint:a({id:(0,d.OB)("settings.form.sizeOptimization.description"),defaultMessage:"Enabling this option will reduce the image size and slightly reduce its quality."}),label:a({id:(0,d.OB)("settings.form.sizeOptimization.label"),defaultMessage:"Size optimization"}),name:"sizeOptimization",offLabel:a({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"Off"}),onLabel:a({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"On"}),onChange:p=>{S({target:{name:"sizeOptimization",value:p.target.checked}})}})),e.createElement(r.P,{col:6,s:12},e.createElement(i.s,{"aria-label":"autoOrientation","data-testid":"autoOrientation",checked:C.autoOrientation,hint:a({id:(0,d.OB)("settings.form.autoOrientation.description"),defaultMessage:"Enabling this option will automatically rotate the image according to EXIF orientation tag."}),label:a({id:(0,d.OB)("settings.form.autoOrientation.label"),defaultMessage:"Auto orientation"}),name:"autoOrientation",offLabel:a({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"Off"}),onLabel:a({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"On"}),onChange:p=>{S({target:{name:"autoOrientation",value:p.target.checked}})}}))))))))))};var H=()=>e.createElement(c.O4,{permissions:G.Z.settings},e.createElement(R,null))},17e3:function(T,f,t){t.d(f,{D:function(){return h}});var e=t(74512),s=t(72850);const h=({children:c})=>(0,e.jsx)(s.x,{paddingLeft:10,paddingRight:10,children:c})},82055:function(T,f,t){t.d(f,{T:function(){return P}});var e=t(74512),s=t(32735),h=t(8471);const c=n=>{const l=(0,s.useRef)(null),[r,i]=(0,s.useState)(!0),u=([g])=>{i(g.isIntersecting)};return(0,s.useEffect)(()=>{const g=l.current,y=new IntersectionObserver(u,n);return g&&y.observe(l.current),()=>{g&&y.disconnect()}},[l,n]),[l,r]};var E=t(63060);const x=(n,l)=>{const r=(0,E.W)(l);(0,s.useLayoutEffect)(()=>{const i=new ResizeObserver(r);return Array.isArray(n)?n.forEach(u=>{u.current&&i.observe(u.current)}):n.current&&i.observe(n.current),()=>{i.disconnect()}},[n,r])};var o=t(72850),v=t(87933),b=t(49372);const P=n=>{const l=(0,s.useRef)(null),[r,i]=(0,s.useState)(null),[u,g]=c({root:null,rootMargin:"0px",threshold:0});return x(u,()=>{u.current&&i(u.current.getBoundingClientRect())}),(0,s.useEffect)(()=>{l.current&&i(l.current.getBoundingClientRect())},[l]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{style:{height:r?.height},ref:u,children:g&&(0,e.jsx)(j,{ref:l,...n})}),!g&&(0,e.jsx)(j,{...n,sticky:!0,width:r?.width})]})};P.displayName="HeaderLayout";const M=(0,h.ZP)(o.x)`
  width: ${({width:n})=>n?`${n/16}rem`:void 0};
  z-index: ${({theme:n})=>n.zIndices[1]};
`,j=s.forwardRef(({navigationAction:n,primaryAction:l,secondaryAction:r,subtitle:i,title:u,sticky:g,width:y,...d},I)=>{const L=typeof i=="string";return g?(0,e.jsx)(M,{paddingLeft:6,paddingRight:6,paddingTop:3,paddingBottom:3,position:"fixed",top:0,right:0,background:"neutral0",shadow:"tableShadow",width:y,"data-strapi-header-sticky":!0,children:(0,e.jsxs)(v.k,{justifyContent:"space-between",children:[(0,e.jsxs)(v.k,{children:[n&&(0,e.jsx)(o.x,{paddingRight:3,children:n}),(0,e.jsxs)(o.x,{children:[(0,e.jsx)(b.Z,{variant:"beta",as:"h1",...d,children:u}),L?(0,e.jsx)(b.Z,{variant:"pi",textColor:"neutral600",children:i}):i]}),r?(0,e.jsx)(o.x,{paddingLeft:4,children:r}):null]}),(0,e.jsx)(v.k,{children:l?(0,e.jsx)(o.x,{paddingLeft:2,children:l}):void 0})]})}):(0,e.jsxs)(o.x,{ref:I,paddingLeft:10,paddingRight:10,paddingBottom:8,paddingTop:n?6:8,background:"neutral100","data-strapi-header":!0,children:[n?(0,e.jsx)(o.x,{paddingBottom:2,children:n}):null,(0,e.jsxs)(v.k,{justifyContent:"space-between",children:[(0,e.jsxs)(v.k,{minWidth:0,children:[(0,e.jsx)(b.Z,{as:"h1",variant:"alpha",...d,children:u}),r?(0,e.jsx)(o.x,{paddingLeft:4,children:r}):null]}),l]}),L?(0,e.jsx)(b.Z,{variant:"epsilon",textColor:"neutral600",as:"p",children:i}):i]})})},96709:function(T,f,t){t.d(f,{A:function(){return x}});var e=t(74512),s=t(8471),h=t(72850);const c=(0,s.ZP)(h.x)`
  display: grid;
  grid-template-columns: ${({hasSideNav:o})=>o?"auto 1fr":"1fr"};
`,E=(0,s.ZP)(h.x)`
  overflow-x: hidden;
`,x=({sideNav:o,children:v})=>(0,e.jsxs)(c,{hasSideNav:!!o,children:[o,(0,e.jsx)(E,{paddingBottom:10,children:v})]})},27649:function(T,f,t){t.d(f,{o:function(){return E}});var e=t(74512),s=t(8471),h=t(72850);const c=(0,s.ZP)(h.x)`
  // To prevent global outline on focus visible to force an outline when Main is focused
  &:focus-visible {
    outline: none;
  }
`,E=({labelledBy:x="main-content-title",...o})=>(0,e.jsx)(c,{"aria-labelledby":x,as:"main",id:"main-content",tabIndex:-1,...o})}}]);
