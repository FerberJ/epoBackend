(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[5895],{74750:function(D,p,t){"use strict";t.r(p),t.d(p,{SettingsPage:function(){return St},default:function(){return Re}});var e=t(32735),l=t(69262),u=t(53038),h=t(96709),r=t(67879),x=t(74758),g=t(32308),C=t(8997),T=t(20108),z=t(27649),Z=t(82055),P=t(41415),L=t(17e3),S=t(87933),d=t(49372),O=t(15335),y=t(5803),I=t(50428),B=t(66456),W=t(47361),H=t(83983),V=t(60216),s=t.n(V),U=t(72850);const Q=750,K=100,Y=["image/jpeg","image/png","image/svg+xml"];var w=t(23272),q=t(68387),X=t(50563),b=t(98779),_=t(19406),tt=t(44647),et=t(85025),nt=t(55225),$=t(97889);const ht={localImage:void 0};var Rt=(o=ht,n)=>(0,$.ZP)(o,a=>{switch(n.type){case"SET_LOCAL_IMAGE":{a.localImage=n.value;break}default:return a}});const ot=({onChangeLogo:o,customLogo:n,goTo:a,Component:i,modalTitle:m,next:E,prev:R,currentStep:v})=>{const[{localImage:f},c]=(0,e.useReducer)(Rt,ht),{formatMessage:A}=(0,r.Z)(),M=j=>{c({type:"SET_LOCAL_IMAGE",value:j})},F=()=>{a(null)};return v?e.createElement(et.P,{labelledBy:"modal",onClose:F},e.createElement(nt.x,null,e.createElement(d.Z,{fontWeight:"bold",as:"h2",id:"modal"},A(m))),e.createElement(i,{setLocalImage:M,goTo:a,next:E,prev:R,onClose:F,asset:f||n,onChangeLogo:o})):null};ot.defaultProps={Component:void 0,currentStep:void 0,customLogo:void 0,modalTitle:void 0,next:null,prev:null},ot.propTypes={Component:s().elementType,currentStep:s().string,customLogo:s().shape({name:s().string,url:s().string,width:s().number,height:s().number,ext:s().string}),goTo:s().func.isRequired,modalTitle:s().shape({id:s().string,defaultMessage:s().string}),next:s().string,onChangeLogo:s().func.isRequired,prev:s().string};var Tt=ot;const ft={currentStep:void 0};var Pt=(o=ft,n)=>(0,$.ZP)(o,a=>{switch(n.type){case"GO_TO":{a.currentStep=n.to;break}default:return a}}),Ot=t(91215),at=t(90980),It=t(9026),st=t(3653),Dt=t(8471),At=t(98275),Bt=t(87107),Ut=t(99140),jt=t(47851),it=t(11406),zt=t(47284);const Zt={id:"Settings.application.customization.modal.upload.error-format",defaultMessage:"Wrong format uploaded (accepted formats only: jpeg, jpg, png, svg)."},Et={id:"Settings.application.customization.modal.upload.error-size",defaultMessage:"The file uploaded is too large (max dimension: {dimension}x{dimension}, max file size: {size}KB)"},Ft=o=>new Promise(n=>{const a=new FileReader;a.onload=()=>{const i=new Image;i.onload=function(){n({width:i.width,height:i.height})},i.src=a.result},a.readAsDataURL(o)}),Wt=(o,n)=>({ext:o.name.split(".").pop(),size:o.size/1e3,name:o.name,url:URL.createObjectURL(o),rawFile:o,width:n.width,height:n.height}),vt=async o=>{let n;if(!Y.includes(o.type))throw n=new Error("File format"),n.displayMessage=Zt,n;const i=await Ft(o);if(!(i.width<=Q&&i.height<=Q))throw n=new Error("File sizing"),n.displayMessage=Et,n;const E=Wt(o,i);if(!(E.size<=K))throw n=new Error("File sizing"),n.displayMessage=Et,n;return E},Kt=(0,Dt.ZP)(At._)`
  opacity: 0;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,lt=({setLocalImage:o,goTo:n,next:a,onClose:i})=>{const{formatMessage:m}=(0,r.Z)(),[E,R]=(0,e.useState)(!1),[v,f]=(0,e.useState)(void 0),c=(0,e.useRef)(null),A=()=>R(!0),M=()=>R(!1),F=J=>{J.preventDefault(),c.current.click()},j=async()=>{M();const J=c.current.files[0];if(J)try{const N=await vt(J);o(N),n(a)}catch(N){if(N.displayMessage)f(m(N.displayMessage,{size:K,dimension:Q})),c.current.focus();else throw N}},G=()=>E?"primary500":v?"danger600":"neutral300";return e.createElement(e.Fragment,null,e.createElement("form",null,e.createElement(U.x,{paddingLeft:8,paddingRight:8,paddingTop:6,paddingBottom:6},e.createElement(Bt.g,{name:"logo-upload",error:v},e.createElement("label",{htmlFor:"logo-upload"},e.createElement(S.k,{direction:"column",alignItems:"stretch",gap:2},e.createElement(S.k,{paddingTop:9,paddingBottom:7,hasRadius:!0,justifyContent:"center",direction:"column",background:E?"primary100":"neutral100",borderColor:G(),borderStyle:"dashed",borderWidth:"1px",position:"relative",onDragEnter:A,onDragLeave:M},e.createElement(Ut.J,{color:"primary600",width:`${60/16}rem`,height:`${60/16}rem`,as:zt.Z,"aria-hidden":!0}),e.createElement(U.x,{paddingTop:3,paddingBottom:5},e.createElement(d.Z,{variant:"delta",as:"span"},m({id:"Settings.application.customization.modal.upload.drag-drop",defaultMessage:"Drag and Drop here or"}))),e.createElement(Kt,{accept:Y,cursor:"pointer",as:"input",type:"file",name:"files",tabIndex:-1,zIndex:1,onChange:j,ref:c,id:"logo-upload"}),e.createElement(P.z,{type:"button",onClick:F},m({id:"Settings.application.customization.modal.upload.cta.browse",defaultMessage:"Browse files"})),e.createElement(U.x,{paddingTop:6},e.createElement(d.Z,{variant:"pi",textColor:"neutral600"},m({id:"Settings.application.customization.modal.upload.file-validation",defaultMessage:"Max dimension: {dimension}x{dimension}, Max size: {size}KB"},{size:K,dimension:Q})))),e.createElement(jt.c,null)))))),e.createElement(it.m,{startActions:e.createElement(P.z,{onClick:i,variant:"tertiary"},m({id:"Settings.application.customization.modal.cancel",defaultMessage:"Cancel"}))}))};lt.defaultProps={next:null},lt.propTypes={goTo:s().func.isRequired,next:s().string,onClose:s().func.isRequired,setLocalImage:s().func.isRequired};var $t=lt,Nt=t(10369),Gt=async o=>{try{const{get:n}=(0,l.tg)(),a=await n(o,{responseType:"blob",timeout:8e3});return new File([a.data],a.config.url,{type:a.headers["content-type"]})}catch(n){throw n.displayMessage={id:"Settings.application.customization.modal.upload.error-network",defaultMessage:"Network error"},n}};const rt=({goTo:o,next:n,onClose:a,setLocalImage:i})=>{const{formatMessage:m}=(0,r.Z)(),[E,R]=(0,e.useState)(""),[v,f]=(0,e.useState)(null),c=M=>{R(M.target.value)},A=async()=>{try{const M=await Gt(E),F=await vt(M);i(F),o(n)}catch(M){if(M.displayMessage)f(m(M.displayMessage,{size:K,dimension:Q}));else throw M}};return e.createElement("form",{onSubmit:M=>{M.preventDefault(),A()}},e.createElement(U.x,{paddingLeft:8,paddingRight:8,paddingTop:6,paddingBottom:6},e.createElement(Nt.o,{label:m({id:"Settings.application.customization.modal.upload.from-url.input-label",defaultMessage:"URL"}),error:v,onChange:c,value:E,name:"logo-url"})),e.createElement(it.m,{startActions:e.createElement(P.z,{onClick:a,variant:"tertiary"},m({id:"app.components.Button.cancel",defaultMessage:"Cancel"})),endActions:e.createElement(P.z,{type:"submit"},m({id:"Settings.application.customization.modal.upload.next",defaultMessage:"Next"}))}))};rt.defaultProps={next:null},rt.propTypes={goTo:s().func.isRequired,next:s().string,onClose:s().func.isRequired,setLocalImage:s().func.isRequired};var Ht=rt;const dt=({setLocalImage:o,goTo:n,next:a,onClose:i})=>{const{formatMessage:m}=(0,r.Z)();return e.createElement(Ot.v,{label:m({id:"Settings.application.customization.modal.tab.label",defaultMessage:"How do you want to upload your assets?"}),variant:"simple"},e.createElement(U.x,{paddingLeft:8,paddingRight:8},e.createElement(at.m,null,e.createElement(at.O,null,m({id:"Settings.application.customization.modal.upload.from-computer",defaultMessage:"From computer"})),e.createElement(at.O,null,m({id:"Settings.application.customization.modal.upload.from-url",defaultMessage:"From url"}))),e.createElement(It.i,null)),e.createElement(st.n,null,e.createElement(st.x,null,e.createElement($t,{onClose:i,setLocalImage:o,goTo:n,next:a})),e.createElement(st.x,null,e.createElement(Ht,{onClose:i,setLocalImage:o,goTo:n,next:a}))))};dt.defaultProps={next:null},dt.propTypes={goTo:s().func.isRequired,next:s().string,onClose:s().func.isRequired,setLocalImage:s().func.isRequired};var Vt=dt,Qt=t(42466),Jt=t(20853),Xt=t(2800),Yt=t(26835),bt=t(41048),xt=t(37083),wt=t(11505);const Mt=({asset:o})=>{const{formatMessage:n}=(0,r.Z)();return e.createElement(Qt.Z,null,e.createElement(Jt.O,null,e.createElement(Xt.H,{size:"S",src:o.url})),e.createElement(Yt.e,null,e.createElement(bt.a,null,e.createElement(xt.l,null,o.name),e.createElement(xt._,null,`${o.ext.toUpperCase()} - ${o.width}\u2715${o.height}`)),e.createElement(wt.E,null,n({id:"Settings.application.customization.modal.pending.card-badge",defaultMessage:"image"}))))};Mt.propTypes={asset:s().shape({name:s().string,url:s().string,width:s().number,height:s().number,ext:s().string}).isRequired};var kt=Mt;const ct=({onClose:o,asset:n,prev:a,next:i,goTo:m,setLocalImage:E,onChangeLogo:R})=>{const{formatMessage:v}=(0,r.Z)(),f=()=>{E(void 0),m(a)},c=()=>{R(n),m(i)};return e.createElement(e.Fragment,null,e.createElement(U.x,{paddingLeft:8,paddingRight:8,paddingTop:6,paddingBottom:6},e.createElement(S.k,{justifyContent:"space-between",paddingBottom:6},e.createElement(S.k,{direction:"column",alignItems:"flex-start"},e.createElement(d.Z,{variant:"pi",fontWeight:"bold"},v({id:"Settings.application.customization.modal.pending.title",defaultMessage:"Logo ready to upload"})),e.createElement(d.Z,{variant:"pi",textColor:"neutral500"},v({id:"Settings.application.customization.modal.pending.subtitle",defaultMessage:"Manage the chosen logo before uploading it"}))),e.createElement(P.z,{onClick:f,variant:"secondary"},v({id:"Settings.application.customization.modal.pending.choose-another",defaultMessage:"Choose another logo"}))),e.createElement(U.x,{maxWidth:(0,l.Q1)(180)},n.url?e.createElement(kt,{asset:n}):null)),e.createElement(it.m,{startActions:e.createElement(P.z,{onClick:o,variant:"tertiary"},v({id:"Settings.application.customization.modal.cancel",defaultMessage:"Cancel"})),endActions:e.createElement(P.z,{onClick:c},v({id:"Settings.application.customization.modal.pending.upload",defaultMessage:"Upload logo"}))}))};ct.defaultProps={next:null,prev:null},ct.propTypes={goTo:s().func.isRequired,asset:s().shape({name:s().string,url:s().string,width:s().number,height:s().number,ext:s().string}).isRequired,next:s().string,onClose:s().func.isRequired,onChangeLogo:s().func.isRequired,prev:s().string,setLocalImage:s().func.isRequired};var qt=ct,_t={upload:{Component:Vt,modalTitle:{id:"Settings.application.customization.modal.upload",defaultMessage:"Upload logo"},next:"pending",prev:null},pending:{Component:qt,modalTitle:{id:"Settings.application.customization.modal.pending",defaultMessage:"Pending logo"},next:null,prev:"upload"}};const mt=({canUpdate:o,customLogo:n,defaultLogo:a,hint:i,label:m,onChangeLogo:E,onResetLogo:R})=>{const[{currentStep:v},f]=(0,e.useReducer)(Pt,ft),{Component:c,next:A,prev:M,modalTitle:F}=_t[v]||{},{formatMessage:j}=(0,r.Z)(),G=J=>{f({type:"GO_TO",to:J})};return e.createElement(e.Fragment,null,e.createElement(w.F,{label:m,selectedSlide:0,hint:i,previousLabel:"",nextLabel:"",onNext:()=>{},onPrevious:()=>{},secondaryLabel:n?.name||"logo.png",actions:e.createElement(q.b,null,e.createElement(X.h,{disabled:!o,onClick:()=>G(n?"pending":"upload"),label:j({id:"Settings.application.customization.carousel.change-action",defaultMessage:"Change logo"}),icon:e.createElement(_.Z,null)}),n&&e.createElement(X.h,{disabled:!o,onClick:R,label:j({id:"Settings.application.customization.carousel.reset-action",defaultMessage:"Reset logo"}),icon:e.createElement(tt.Z,null)}))},e.createElement(b.q,{label:j({id:"Settings.application.customization.carousel-slide.label",defaultMessage:"Logo slide"})},e.createElement(U.x,{maxHeight:"40%",maxWidth:"40%",as:"img",src:n?.url||a,alt:j({id:"Settings.application.customization.carousel.title",defaultMessage:"Logo"})}))),e.createElement(Tt,{Component:c,currentStep:v,onChangeLogo:E,customLogo:n,goTo:G,next:A,prev:M,modalTitle:F}))};mt.defaultProps={canUpdate:!1,customLogo:null,hint:null},mt.propTypes={canUpdate:s().bool,customLogo:s().shape({url:s().string,name:s().string}),label:s().string.isRequired,hint:s().string,defaultLogo:s().string.isRequired,onChangeLogo:s().func.isRequired,onResetLogo:s().func.isRequired};var Ct=mt;const ut={menuLogo:{display:null,submit:{rawFile:null,isReset:!1}},authLogo:{display:null,submit:{rawFile:null,isReset:!1}}};var te=(o=ut,n)=>(0,$.ZP)(o,a=>{switch(n.type){case"SET_CUSTOM_MENU_LOGO":{a.menuLogo.display=n.value,a.menuLogo.submit.rawFile=n.value.rawFile;break}case"SET_CUSTOM_AUTH_LOGO":{a.authLogo.display=n.value,a.authLogo.submit.rawFile=n.value.rawFile;break}case"RESET_CUSTOM_MENU_LOGO":{a.menuLogo.display=null,a.menuLogo.submit={rawFile:null,isReset:!0};break}case"RESET_CUSTOM_AUTH_LOGO":{a.authLogo.display=null,a.authLogo.submit={rawFile:null,isReset:!0};break}default:return a}}),ee=t(86349),ne=t.n(ee),oe=(o,n)=>ne()(o,{menuLogo:{display:n.menuLogo},authLogo:{display:n.authLogo}});const gt=(0,e.forwardRef)(({canUpdate:o,projectSettingsStored:n},a)=>{const{formatMessage:i}=(0,r.Z)(),{trackUsage:m}=(0,l.rS)(),{logos:{menu:E,auth:R}}=(0,g.um)(),[{menuLogo:v,authLogo:f},c]=(0,e.useReducer)(te,ut,()=>oe(ut,n)),A=G=>{c({type:"SET_CUSTOM_MENU_LOGO",value:G})},M=()=>{m("didClickResetLogo",{logo:"menu"}),c({type:"RESET_CUSTOM_MENU_LOGO"})},F=G=>{c({type:"SET_CUSTOM_AUTH_LOGO",value:G})},j=()=>{m("didClickResetLogo",{logo:"auth"}),c({type:"RESET_CUSTOM_AUTH_LOGO"})};return(0,e.useImperativeHandle)(a,()=>({getValues:()=>({menuLogo:v.submit,authLogo:f.submit})})),e.createElement(U.x,{hasRadius:!0,background:"neutral0",shadow:"tableShadow",paddingTop:6,paddingBottom:6,paddingRight:7,paddingLeft:7},e.createElement(d.Z,{variant:"delta",as:"h3"},i({id:"Settings.application.customization",defaultMessage:"Customization"})),e.createElement(d.Z,{variant:"pi",textColor:"neutral600"},i({id:"Settings.application.customization.size-details",defaultMessage:"Max dimension: {dimension}\xD7{dimension}, Max file size: {size}KB"},{dimension:Q,size:K})),e.createElement(O.r,{paddingTop:4,gap:4},e.createElement(y.P,{col:6,s:12},e.createElement(Ct,{canUpdate:o,customLogo:v.display,defaultLogo:E.default,hint:i({id:"Settings.application.customization.menu-logo.carousel-hint",defaultMessage:"Replace the logo in the main navigation"}),label:i({id:"Settings.application.customization.carousel.menu-logo.title",defaultMessage:"Menu logo"}),onChangeLogo:A,onResetLogo:M})),e.createElement(y.P,{col:6,s:12},e.createElement(Ct,{canUpdate:o,customLogo:f.display,defaultLogo:R.default,hint:i({id:"Settings.application.customization.auth-logo.carousel-hint",defaultMessage:"Replace the logo in the authentication pages"}),label:i({id:"Settings.application.customization.carousel.auth-logo.title",defaultMessage:"Auth logo"}),onChangeLogo:F,onResetLogo:j}))))});gt.defaultProps={canUpdate:!1,projectSettingsStored:null},gt.propTypes={canUpdate:s().bool,projectSettingsStored:s().shape({menuLogo:s().shape({url:s().string,name:s().string})})};var ae=gt,se=t(48344),ie=t.n(se),Lt=o=>ie()(o,(n,a,i)=>{a&&a.url?n[i]={...a,url:(0,l.CR)(a.url)}:n[i]=a},{});const le=async()=>{const{get:o}=(0,l.tg)(),{data:n}=await o("/admin/project-settings");return Lt(n)},re=async o=>{const{post:n}=(0,l.tg)(),{data:a}=await n("/admin/project-settings",o,{headers:{"Content-Type":"multipart/form-data"}});return Lt(a)};var de=o=>{const n=new FormData;return Object.entries(o).forEach(([a,i])=>{i&&i.rawFile instanceof File&&n.append(a,i.rawFile),i&&i.isReset&&n.append(a,null)}),n};const ce=(()=>window&&window.strapi&&window.strapi.isEE?t(78999).Z:t(17891).Z)();var me=()=>{const o=(0,e.useRef)(),n=(0,l.lm)(),{trackUsage:a}=(0,l.rS)(),{formatMessage:i}=(0,r.Z)(),m=(0,T.useQueryClient)();(0,l.go)();const E=(0,l.L7)(),{latestStrapiReleaseTag:R,shouldUpdateStrapi:v,strapiVersion:f}=E,{updateProjectSettings:c}=(0,g.um)(),{allowedActions:{canRead:A,canUpdate:M}}=(0,l.ss)(H.Z.settings["project-settings"]),F=A&&M,{data:j}=(0,T.useQuery)("project-settings",le,{enabled:A}),G=(0,T.useMutation)(N=>re(N),{async onSuccess(N){let{menuLogo:k,authLogo:pt}=N;await m.invalidateQueries("project-settings",{refetchActive:!0}),c({menuLogo:k?.url,authLogo:pt?.url})}}),J=N=>{if(N.preventDefault(),!M)return;const k=o.current.getValues(),pt=de(k);G.mutate(pt,{onSuccess(){const{menuLogo:Te,authLogo:Pe}=k;Te.rawFile&&a("didChangeLogo",{logo:"menu"}),Pe.rawFile&&a("didChangeLogo",{logo:"auth"}),n({type:"success",message:i({id:"app",defaultMessage:"Saved"})})},onError(){n({type:"warning",message:{id:"notification.error",defaultMessage:"An error occurred"}})}})};return e.createElement(h.A,null,e.createElement(l.SL,{name:"Application"}),e.createElement(z.o,null,e.createElement("form",{onSubmit:J},e.createElement(Z.T,{title:i({id:"Settings.application.title",defaultMessage:"Overview"}),subtitle:i({id:"Settings.application.description",defaultMessage:"Administration panel\u2019s global information"}),primaryAction:F&&e.createElement(P.z,{type:"submit",startIcon:e.createElement(B.Z,null)},i({id:"global.save",defaultMessage:"Save"}))}),e.createElement(L.D,null,e.createElement(S.k,{direction:"column",alignItems:"stretch",gap:6},e.createElement(S.k,{direction:"column",alignItems:"stretch",gap:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow",paddingTop:6,paddingBottom:6,paddingRight:7,paddingLeft:7},e.createElement(d.Z,{variant:"delta",as:"h3"},i({id:"global.details",defaultMessage:"Details"})),e.createElement(O.r,{gap:5,as:"dl"},e.createElement(y.P,{col:6,s:12},e.createElement(d.Z,{variant:"sigma",textColor:"neutral600",as:"dt"},i({id:"Settings.application.strapiVersion",defaultMessage:"strapi version"})),e.createElement(S.k,{gap:3,direction:"column",alignItems:"start",as:"dd"},e.createElement(d.Z,null,"v",f),v&&e.createElement(I.r,{href:`https://github.com/strapi/strapi/releases/tag/${R}`,isExternal:!0,endIcon:e.createElement(W.Z,null)},i({id:"Settings.application.link-upgrade",defaultMessage:"Upgrade your admin panel"})))),e.createElement(y.P,{col:6,s:12},e.createElement(d.Z,{variant:"sigma",textColor:"neutral600",as:"dt"},i({id:"Settings.application.edition-title",defaultMessage:"current plan"})),e.createElement(S.k,{gap:3,direction:"column",alignItems:"start",as:"dd"},e.createElement(d.Z,null,i({id:"Settings.application.ee-or-ce",defaultMessage:"{communityEdition, select, true {Community Edition} other {Enterprise Edition}}"},{communityEdition:E.communityEdition})),e.createElement(I.r,{href:"https://strapi.io/pricing-self-hosted",isExternal:!0,endIcon:e.createElement(W.Z,null)},i({id:"Settings.application.link-pricing",defaultMessage:"See all pricing plans"})))),e.createElement(y.P,{col:6,s:12},e.createElement(d.Z,{variant:"sigma",textColor:"neutral600",as:"dt"},i({id:"Settings.application.node-version",defaultMessage:"node version"})),e.createElement(d.Z,{as:"dd"},E.nodeVersion)),e.createElement(ce,null))),A&&j&&e.createElement(ae,{canUpdate:M,ref:o,projectSettingsStored:j}))))))},ue=t(3704),ge=t.n(ue),pe=o=>ge()(o,a=>a.links).map(a=>(0,C.ot)(a.Component,a.to,a.exact||!1)),he=o=>o.filter(n=>!n.links.every(a=>a.isDisplayed===!1)),fe=[{async Component(){return await t.e(3455).then(t.bind(t,67249))},to:"/settings/roles",exact:!0},{async Component(){return await Promise.all([t.e(1387),t.e(2544)]).then(t.bind(t,92034))},to:"/settings/roles/duplicate/:id",exact:!0},{async Component(){return await Promise.all([t.e(1387),t.e(2544)]).then(t.bind(t,92034))},to:"/settings/roles/new",exact:!0},{async Component(){return await Promise.all([t.e(1387),t.e(2544)]).then(t.bind(t,33778))},to:"/settings/roles/:id",exact:!0},{async Component(){return await t.e(5199).then(t.bind(t,10108))},to:"/settings/users",exact:!0},{async Component(){return await t.e(4263).then(t.bind(t,40874))},to:"/settings/users/:id",exact:!0},{async Component(){return await t.e(5162).then(t.bind(t,33238))},to:"/settings/webhooks/create",exact:!0},{async Component(){return await t.e(5162).then(t.bind(t,59021))},to:"/settings/webhooks/:id",exact:!0},{async Component(){return await t.e(4121).then(t.bind(t,32393))},to:"/settings/webhooks",exact:!0},{async Component(){return await t.e(8056).then(t.bind(t,37168))},to:"/settings/api-tokens",exact:!0},{async Component(){return await Promise.all([t.e(1387),t.e(4628),t.e(5563),t.e(4299)]).then(t.bind(t,3330))},to:"/settings/api-tokens/create",exact:!0},{async Component(){return await Promise.all([t.e(1387),t.e(4628),t.e(5563),t.e(92)]).then(t.bind(t,97841))},to:"/settings/api-tokens/:id",exact:!0},{async Component(){return await Promise.all([t.e(1387),t.e(4628),t.e(7259),t.e(4816)]).then(t.bind(t,76411))},to:"/settings/transfer-tokens/create",exact:!0},{async Component(){return await t.e(9600).then(t.bind(t,38286))},to:"/settings/transfer-tokens",exact:!0},{async Component(){return await Promise.all([t.e(1387),t.e(4628),t.e(7259),t.e(2492)]).then(t.bind(t,73607))},to:"/settings/transfer-tokens/:id",exact:!0}],Ee=[...(()=>window&&window.strapi&&window.strapi.isEE?t(63775).Z:t(75936).Z)(),...fe],ve=t(14911),xe=t(90700),Me=t(78090),Ce=t(77013),Le=t(79318),ye=t(66618);const yt=({menu:o})=>{const{formatMessage:n}=(0,r.Z)(),{trackUsage:a}=(0,l.rS)(),{pathname:i}=(0,u.TH)(),E=he(o).map(f=>({...f,title:f.intlLabel,links:f.links.map(c=>({...c,title:c.intlLabel,name:c.id}))})),R=n({id:"global.settings",defaultMessage:"Settings"}),v=(f=null)=>{a("willNavigate",{from:i,to:f})};return e.createElement(xe.m,{ariaLabel:R},e.createElement(Me.p,{label:R}),e.createElement(Ce.Z,null,E.map(f=>e.createElement(Le.D,{key:f.id,label:n(f.intlLabel)},f.links.map(c=>e.createElement(ye.E,{as:ve.OL,withBullet:c.hasNotification,to:c.to,onClick:()=>v(c.to),key:c.id},n(c.intlLabel)))))))};yt.propTypes={menu:s().array.isRequired};var Se=yt;function St(){const{settingId:o}=(0,u.UO)(),{settings:n}=(0,l.j1)(),{formatMessage:a}=(0,r.Z)(),{isLoading:i,menu:m}=(0,g.Te)(),E=(0,e.useMemo)(()=>(0,C.WW)(Ee.map(({to:f,Component:c,exact:A})=>(0,C.ot)(c,f,A))),[]),R=pe(n);if(i)return e.createElement(l.dO,null);if(!o)return e.createElement(u.l_,{to:"/settings/application-infos"});const v=a({id:"global.settings",defaultMessage:"Settings"});return e.createElement(h.A,{sideNav:e.createElement(Se,{menu:m})},e.createElement(x.q,{title:v}),e.createElement(u.rs,null,e.createElement(u.AW,{path:"/settings/application-infos",component:me,exact:!0}),E,R))}var Re=(0,e.memo)(St)},17891:function(D,p){"use strict";const t=()=>null;p.Z=t},75936:function(D,p){"use strict";const t=[];p.Z=t},78999:function(D,p,t){"use strict";var e=t(32735),l=t(67879),u=t(5803),h=t(49372),r=t(87933),x=t(63919),g=t(99140),C=t(41502),T=t(69932),z=t(47361),Z=t(69262),P=t(58414);const L="https://cloud.strapi.io/profile/billing",S="https://strapi.io/billing/request-seats",d=()=>{const{formatMessage:O}=(0,l.Z)(),{license:y}=(0,P.q5)(),{licenseLimitStatus:I,enforcementUserCount:B,permittedSeats:W,isHostedOnStrapiCloud:H}=y?.data??{};return W?e.createElement(u.P,{col:6,s:12},e.createElement(h.Z,{variant:"sigma",textColor:"neutral600"},O({id:"Settings.application.admin-seats",defaultMessage:"Admin seats"})),e.createElement(r.k,{gap:2},e.createElement(r.k,null,e.createElement(h.Z,{as:"p"},O({id:"Settings.application.ee.admin-seats.count",defaultMessage:"<text>{enforcementUserCount}</text>/{permittedSeats}"},{permittedSeats:W,enforcementUserCount:B,text:V=>e.createElement(h.Z,{fontWeight:"semiBold",textColor:B>W?"danger500":null},V)}))),I==="OVER_LIMIT"&&e.createElement(x.u,{description:O({id:"Settings.application.ee.admin-seats.at-limit-tooltip",defaultMessage:"At limit: add seats to invite more users"})},e.createElement(g.J,{width:`${(0,Z.Q1)(14)}rem`,height:`${(0,Z.Q1)(14)}rem`,color:"danger500",as:T.Z}))),e.createElement(C.r,{href:H?L:S,isExternal:!0,endIcon:e.createElement(z.Z,null)},O({id:"Settings.application.ee.admin-seats.add-seats",defaultMessage:"{isHostedOnStrapiCloud, select, true {Add seats} other {Contact sales}}"},{isHostedOnStrapiCloud:H}))):null};p.Z=d},63775:function(D,p,t){"use strict";const e=[];window.strapi.features.isEnabled(window.strapi.features.SSO)&&e.push({async Component(){return await t.e(302).then(t.bind(t,26930))},to:"/settings/single-sign-on",exact:!0}),window.strapi.features.isEnabled(window.strapi.features.REVIEW_WORKFLOWS)&&e.push({async Component(){return await Promise.all([t.e(3562),t.e(5932),t.e(8155)]).then(t.bind(t,96594))},to:"/settings/review-workflows",exact:!0}),window.strapi.features.isEnabled(window.strapi.features.AUDIT_LOGS)&&e.push({async Component(){return await t.e(2812).then(t.bind(t,71765))},to:"/settings/audit-logs",exact:!0}),p.Z=e},3704:function(D,p,t){var e=t(40314),l=t(37213);function u(h,r){return e(l(h,r),1)}D.exports=u},37213:function(D,p,t){var e=t(26460),l=t(88904),u=t(52920),h=t(77236);function r(x,g){var C=h(x)?e:u;return C(x,l(g,3))}D.exports=r},96709:function(D,p,t){"use strict";t.d(p,{A:function(){return x}});var e=t(74512),l=t(8471),u=t(72850);const h=(0,l.ZP)(u.x)`
  display: grid;
  grid-template-columns: ${({hasSideNav:g})=>g?"auto 1fr":"1fr"};
`,r=(0,l.ZP)(u.x)`
  overflow-x: hidden;
`,x=({sideNav:g,children:C})=>(0,e.jsxs)(h,{hasSideNav:!!g,children:[g,(0,e.jsx)(r,{paddingBottom:10,children:C})]})},90700:function(D,p,t){"use strict";t.d(p,{m:function(){return x}});var e=t(74512),l=t(8471),u=t(15335);const h=`${232/16}rem`,r=(0,l.ZP)(u.r)`
  width: ${h};
  background: ${({theme:g})=>g.colors.neutral100};
  position: sticky;
  top: 0;
  height: 100vh;
  overflow-y: auto;
  border-right: 1px solid ${({theme:g})=>g.colors.neutral200};
  z-index: 1;
`,x=({ariaLabel:g,...C})=>(0,e.jsx)(r,{"aria-label":g,as:"nav",...C})},78090:function(D,p,t){"use strict";t.d(p,{p:function(){return O}});var e=t(74512),l=t(32735),u=t(6792),h=t(8471),r=t(94486),x=t(74971);const g=y=>{const I=(0,l.useRef)();return(0,l.useEffect)(()=>{I.current=y}),I.current};var C=t(9026),T=t(72850),z=t(89252),Z=t(61774),P=t(87933),L=t(49372),S=t(50563);const d=(0,h.ZP)(C.i)`
  width: ${24/16}rem;
  background-color: ${({theme:y})=>y.colors.neutral200};
`,O=({as:y="h2",label:I,searchLabel:B="",searchable:W=!1,onChange:H=()=>{},value:V="",onClear:s=()=>{},onSubmit:U=()=>{},id:Q})=>{const[K,Y]=(0,l.useState)(!1),w=g(K),q=(0,x.M)(Q),X=(0,l.useRef)(void 0),b=(0,l.useRef)(void 0);(0,l.useEffect)(()=>{K&&X.current&&X.current.focus(),w&&!K&&b.current&&b.current.focus()},[K,w]);const _=()=>{Y($=>!$)},tt=$=>{s($),X.current.focus()},et=$=>{$.relatedTarget?.id!==q&&Y(!1)},nt=$=>{$.key===r.y.ESCAPE&&Y(!1)};return K?(0,e.jsxs)(T.x,{paddingLeft:4,paddingTop:5,paddingBottom:2,paddingRight:4,children:[(0,e.jsx)(z.U,{children:(0,e.jsx)(Z.w,{name:"searchbar",value:V,onChange:H,placeholder:"e.g: strapi-plugin-abcd",onKeyDown:nt,ref:X,onBlur:et,onClear:tt,onSubmit:U,clearLabel:"Clear",size:"S",children:B})}),(0,e.jsx)(T.x,{paddingLeft:2,paddingTop:4,children:(0,e.jsx)(d,{})})]}):(0,e.jsxs)(T.x,{paddingLeft:6,paddingTop:6,paddingBottom:2,paddingRight:4,children:[(0,e.jsxs)(P.k,{justifyContent:"space-between",alignItems:"flex-start",children:[(0,e.jsx)(L.Z,{variant:"beta",as:y,children:I}),W&&(0,e.jsx)(S.h,{ref:b,onClick:_,label:B,icon:(0,e.jsx)(u.Z,{})})]}),(0,e.jsx)(T.x,{paddingTop:4,children:(0,e.jsx)(d,{})})]})}},66618:function(D,p,t){"use strict";t.d(p,{E:function(){return P}});var e=t(74512),l=t(32735),u=t(56243),h=t(8471),r=t(72850),x=t(49372),g=t(87933),C=t(62499);const T=(0,h.ZP)(r.x)`
  display: flex;
  align-items: center;
  justify-content: space-between;
  text-decoration: none;
  color: ${({theme:L})=>L.colors.neutral800};
  svg > * {
    fill: ${({theme:L})=>L.colors.neutral600};
  }

  &.active {
    ${({theme:L})=>`
      background-color: ${L.colors.primary100};
      border-right: 2px solid ${L.colors.primary600};
      svg > * {
        fill: ${L.colors.primary700};
      }
      ${x.Z} {
        color: ${L.colors.primary700};
        font-weight: 500;
      }
      `}
  }

  &:focus-visible {
    outline-offset: -2px;
  }
`,z=(0,h.ZP)(u.Z)`
  width: ${12/16}rem;
  height: ${4/16}rem;
  * {
    fill: ${({theme:L,$active:S})=>S?L.colors.primary600:L.colors.neutral600};
  }
`,Z=h.ZP.div`
  svg {
    height: ${12/16}rem;
    width: ${12/16}rem;
  }
`,P=l.forwardRef(({children:L,icon:S=null,withBullet:d=!1,as:O=C.f,isSubSectionChild:y=!1,...I},B)=>(0,e.jsxs)(T,{as:O,icon:S,background:"neutral100",paddingLeft:y?9:7,paddingBottom:2,paddingTop:2,ref:B,...I,children:[(0,e.jsxs)(g.k,{children:[S?(0,e.jsx)(Z,{children:S}):(0,e.jsx)(z,{}),(0,e.jsx)(r.x,{paddingLeft:2,children:(0,e.jsx)(x.Z,{as:"span",children:L})})]}),d&&(0,e.jsx)(r.x,{as:g.k,paddingRight:4,children:(0,e.jsx)(z,{$active:!0})})]}))},79318:function(D,p,t){"use strict";t.d(p,{D:function(){return S}});var e=t(74512),l=t(32735),u=t(8471),h=t(16899),r=t(87933),x=t(72850),g=t(49372);const C=(0,u.ZP)(r.k)`
  border: none;
  padding: 0;
  background: transparent;
`,T=u.ZP.div`
  display: flex;
  align-items: center;
  transform: rotateX(${({rotated:d})=>d?"0deg":"180deg"});
`,z=({collapsable:d=!1,label:O,onClick:y=()=>{},ariaExpanded:I,ariaControls:B})=>d?(0,e.jsxs)(C,{as:"button",onClick:y,"aria-expanded":I,"aria-controls":B,textAlign:"left",children:[(0,e.jsx)(x.x,{paddingRight:1,children:(0,e.jsx)(g.Z,{variant:"sigma",textColor:"neutral600",children:O})}),d&&(0,e.jsx)(T,{rotated:I,children:(0,e.jsx)(h.Z,{"aria-hidden":!0})})]}):(0,e.jsx)(C,{children:(0,e.jsx)(x.x,{paddingRight:1,children:(0,e.jsx)(g.Z,{variant:"sigma",textColor:"neutral600",children:O})})});var Z=t(74971),P=t(6518);const L=(0,u.ZP)(x.x)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:d})=>d.colors.neutral500};
    }
  }
`,S=({collapsable:d=!1,label:O,badgeLabel:y,children:I,id:B})=>{const[W,H]=(0,l.useState)(!0),V=(0,Z.M)(B);return(0,e.jsxs)(r.k,{direction:"column",alignItems:"stretch",gap:1,children:[(0,e.jsx)(L,{paddingLeft:6,paddingTop:2,paddingBottom:2,paddingRight:4,children:(0,e.jsxs)(x.x,{position:"relative",paddingRight:y?6:0,children:[(0,e.jsx)(z,{onClick:()=>{H(s=>!s)},ariaExpanded:W,ariaControls:V,collapsable:d,label:O}),y&&(0,e.jsx)(P.C,{backgroundColor:"neutral150",textColor:"neutral600",position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",children:y})]})}),(!d||W)&&(0,e.jsx)("ol",{id:V,children:l.Children.map(I,(s,U)=>(0,e.jsx)("li",{children:s},U))})]})}},77013:function(D,p,t){"use strict";t.d(p,{Z:function(){return r}});var e=t(74512),l=t(32735),u=t(72850),h=t(87933);const r=({children:x,spacing:g=2,horizontal:C=!1,...T})=>(0,e.jsx)(u.x,{paddingTop:2,paddingBottom:4,children:(0,e.jsx)(h.k,{as:"ol",gap:g,direction:C?"row":"column",alignItems:C?"center":"stretch",...T,children:l.Children.map(x,(z,Z)=>(0,e.jsx)("li",{children:z},Z))})})},56243:function(D,p,t){"use strict";t.d(p,{Z:function(){return u}});var e=t(74512);const l=h=>(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 4 4",...h,children:(0,e.jsx)("rect",{width:4,height:4,fill:"#A5A5BA",rx:2})}),u=l}}]);
